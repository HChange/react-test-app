(this["webpackJsonpreact-test-app"]=this["webpackJsonpreact-test-app"]||[]).push([[8],{167:function(e,t,n){"use strict";n.r(t);var c=n(21),r=n(188),i=n(0),a=n(687),s=n.n(a),o=n(688),l=n.n(o),u=new Array(1e3).fill(!0).map((function(){return{id:l.a.datatype.uuid(),avatar:"https://www.static.hellochange.cn/images/white_bear.gif",title:l.a.name.firstName(),content:l.a.company.companyName()}})),d=n(39);t.default=function(){var e=Object(i.useState)([]),t=Object(c.a)(e,2),n=t[0],a=t[1],o=Object(i.useState)(0),l=Object(c.a)(o,2),v=l[0],_=l[1],f=Object(i.useState)(0),j=Object(c.a)(f,2),b=j[0],h=j[1],p=Object(i.useState)(0),m=Object(c.a)(p,2),O=m[0],w=m[1],x=Object(i.useRef)(null),k=Object(i.useRef)(null),g=Object(i.useMemo)((function(){return Math.ceil(v/50)}),[v]),N=O+g,y=Object(i.useMemo)((function(){return 50*n.length}),[n]),C=Object(i.useMemo)((function(){return n.slice(O,Math.min(N,n.length))}),[n,O,N]);Object(i.useEffect)((function(){a(u.slice(0,g))}),[g]),Object(i.useEffect)((function(){var e=x.current;e&&_(e.clientHeight)}),[]);var M=Object(i.useCallback)((function(){var e,t,c=null!==(e=null===(t=x.current)||void 0===t?void 0:t.scrollTop)&&void 0!==e?e:0,r=Math.floor(c/50),i=r+g;w(r),i>=n.length&&a(u.slice(0,i+g)),h(c)}),[n,g]);return Object(i.useEffect)((function(){var e=x.current;return M(),e&&e.addEventListener("scroll",M),function(){e&&e.removeEventListener("scroll",M)}}),[M]),Object(d.jsx)(r.Page,{children:Object(d.jsxs)("div",{className:s.a["virtual-list-wrapper"],ref:x,children:[Object(d.jsx)("div",{className:s.a["virtual-list-phantom"],style:{height:Math.max(y,v+1)}}),Object(d.jsx)("div",{className:s.a["virtual-list"],ref:k,style:{transform:"translateY(".concat(b,"px)")},children:C.map((function(e){var t=e.id,n=e.title,c=e.avatar,r=e.content;return Object(d.jsxs)("div",{className:s.a["virtual-list-item"],children:[Object(d.jsx)("img",{className:s.a["virtual-list-item__avatar"],src:c,alt:""}),Object(d.jsxs)("div",{className:s.a["virtual-list-item__content"],children:[Object(d.jsx)("h3",{className:s.a["virtual-list-item__title"],children:n}),Object(d.jsx)("div",{className:s.a["virtual-list-item__desc"],children:r})]})]},t)}))})]})})}},177:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var c=n(178),r=n(0),i=n(190),a=n.n(i),s=n(39),o=function(e){var t=e.children,n=Object(r.useRef)(null);return Object(s.jsxs)("h3",{id:t,className:a.a.title,ref:n,onClick:function(){n.current&&Object(c.b)(n.current)},children:[t,Object(s.jsx)("span",{className:a.a.icon,children:"#"})]})}},178:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return r}));var c=function(e){var t=e.canvas,n=e.color,c=e.stepx,r=e.stepy,i=e.lineWidth,a=void 0===i?.15:i,s=t.getContext("2d");if(s.save(),s.fillStyle="transparent",s.fillRect(0,0,s.canvas.width,s.canvas.height),s.lineWidth=a,s.strokeStyle=n,c>0)for(var o=c;o<s.canvas.width;o+=c)s.beginPath(),s.moveTo(o,0),s.lineTo(o,s.canvas.height),s.closePath(),s.stroke();if(r>0)for(var l=r;l<s.canvas.height;l+=r)s.beginPath(),s.moveTo(0,l),s.lineTo(s.canvas.width,l),s.closePath(),s.stroke();s.restore()},r=function(e){e.scrollIntoView({behavior:"smooth",block:"start",inline:"nearest"})}},181:function(e,t,n){"use strict";n.d(t,"Block",(function(){return o}));n(0);var c=n(189),r=n.n(c),i=n(177),a=n(39),s=n(182);n.o(s,"CodeViewer")&&n.d(t,"CodeViewer",(function(){return s.CodeViewer})),n.o(s,"Marked")&&n.d(t,"Marked",(function(){return s.Marked})),n.o(s,"Page")&&n.d(t,"Page",(function(){return s.Page}));var o=function(e){var t=e.title,n=e.children;return Object(a.jsxs)("div",{className:r.a.block,children:[Object(a.jsx)(i.a,{children:t}),Object(a.jsx)("div",{className:r.a.block__content,children:n})]})}},182:function(e,t){},183:function(e,t,n){"use strict";n.d(t,"Page",(function(){return _}));var c=n(42),r=n(0),i=n(20),a=n(104),s=n(191),o=n.n(s),l=n(178),u=n(192),d=n(39),v=n(184);n.o(v,"Block")&&n.d(t,"Block",(function(){return v.Block})),n.o(v,"CodeViewer")&&n.d(t,"CodeViewer",(function(){return v.CodeViewer})),n.o(v,"Marked")&&n.d(t,"Marked",(function(){return v.Marked}));var _=function(e){var t=Object(i.e)().pathname,n=a.b.filter((function(e){return e.path===t}))[0].name,s=e.children,v=e.title,_=void 0===v?n:v,f=e.backLine,j=void 0===f||f,b=Object(r.useMemo)((function(){return"boolean"===typeof j?u.d:Object(c.a)(Object(c.a)({},u.d),j)}),[j]),h=b.color,p=b.stepx,m=b.stepy,O=b.lineWidth,w=Object(r.useRef)(null),x=Object(r.useRef)(null),k=Object(r.useRef)(null),g=Object(r.useRef)();return Object(r.useEffect)((function(){var e;return x.current&&j&&(e=new ResizeObserver((function(){g.current&&clearTimeout(g.current),setTimeout((function(){if(w.current&&k.current&&x.current){var e=x.current,t=e.clientHeight,n=e.clientWidth;if(t>u.a)return;k.current.style.height="".concat(t,"px"),w.current.style.width="".concat(n*u.b,"px"),w.current.style.height="".concat(t*u.b,"px"),w.current.width=n*u.c,w.current.height=t*u.c,Object(l.a)({canvas:w.current,color:h,stepx:p*u.e,stepy:m*u.e,lineWidth:O})}}),500)}))).observe(x.current),function(){var t,n;null===(t=e)||void 0===t||null===(n=t.disconnect)||void 0===n||n.call(t)}}),[w,x,j,k]),Object(d.jsx)("div",{className:o.a.wrapper,children:Object(d.jsxs)("div",{className:o.a.page,ref:x,children:[j&&Object(d.jsx)("div",{ref:k,className:o.a["canvas-wrapper"],children:Object(d.jsx)("canvas",{ref:w,className:o.a.canvas})}),Object(d.jsxs)("div",{className:o.a["page-content"],children:[Object(d.jsx)("h2",{className:o.a.title,children:_}),Object(d.jsx)("div",{className:o.a.content,children:s}),Object(d.jsx)("div",{className:o.a.footer})]})]})})}},184:function(e,t){},185:function(e,t,n){"use strict";n(178),n(0),n(39)},186:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var c=n(97),r=n(21),i=n(0),a=n(8),s=n.n(a),o=n(193),l=n.n(o),u=n(39),d=function(e){var t=Object(i.useState)(!1),n=Object(r.a)(t,2),a=n[0],o=n[1],d=e.render,v=e.code;return Object(u.jsxs)("div",{className:l.a["code-viewer"],children:[Object(u.jsxs)("div",{className:l.a["code-viewer__render"],children:[d,Object(u.jsx)("span",{className:s()(l.a["code-viewer__show-btn"],Object(c.a)({},l.a["code-viewer__show-btn-open"],a)),onClick:function(){return o((function(e){return!e}))},children:a?"\u5173\u95ed\u4ee3\u7801":"\u5c55\u5f00\u4ee3\u7801"})]}),Object(u.jsx)("div",{className:s()(l.a["code-viewer__code"],Object(c.a)({},l.a["code-viewer__code-open"],a)),children:v})]})}},187:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var c=n(21),r=n(0),i=n(8),a=n.n(i),s=n(201),o=n.n(s),l=n(200),u=n.n(l),d=n(202),v=n.n(d),_=n(194),f=n.n(_),j=/^[\w\W]*?```([\w\W]*?)```[\w\W]*$/,b=n(39),h=function(e){var t=e.children,n=e.type,i=e.className,s=e.style,l=void 0===s?{}:s,d=e.onCopy,_=Object(r.useState)(""),h=Object(c.a)(_,2),p=h[0],m=h[1],O=Object(r.useState)(""),w=Object(c.a)(O,2),x=w[0],k=w[1],g=Object(r.useState)("\u590d\u5236"),N=Object(c.a)(g,2),y=N[0],C=N[1];Object(r.useEffect)((function(){if(t){var e;m((null===(e=t.match(j))||void 0===e?void 0:e[1])||""),o.a.setOptions({renderer:new o.a.Renderer,highlight:function(e){return'<pre class="hljs"><code>'+u.a.highlightAuto(e,n?[n]:void 0).value+"</code></pre>"},pedantic:!1,gfm:!0,breaks:!1,sanitize:!1,smartLists:!0,smartypants:!1,xhtml:!1});var c=o()(t);k(c)}}),[t,n]);var M=Object(r.useCallback)((function(e,t){C("\u5df2\u590d\u5236"),setTimeout((function(){C("\u590d\u5236")}),2e3),d&&d(e,t)}),[]);return Object(b.jsx)("div",{className:a()(f.a.marked,{className:i}),style:l,children:Object(b.jsxs)("div",{className:a()(f.a["marked-content"]),children:[x&&Object(b.jsx)("div",{dangerouslySetInnerHTML:{__html:x}}),Object(b.jsx)(v.a,{text:p,onCopy:M,children:Object(b.jsx)("span",{className:f.a["marked-content__copy"],children:y})})]})})}},188:function(e,t,n){"use strict";var c=n(181);n.o(c,"Block")&&n.d(t,"Block",(function(){return c.Block})),n.o(c,"CodeViewer")&&n.d(t,"CodeViewer",(function(){return c.CodeViewer})),n.o(c,"Marked")&&n.d(t,"Marked",(function(){return c.Marked})),n.o(c,"Page")&&n.d(t,"Page",(function(){return c.Page}));var r=n(183);n.o(r,"Block")&&n.d(t,"Block",(function(){return r.Block})),n.o(r,"CodeViewer")&&n.d(t,"CodeViewer",(function(){return r.CodeViewer})),n.o(r,"Marked")&&n.d(t,"Marked",(function(){return r.Marked})),n.o(r,"Page")&&n.d(t,"Page",(function(){return r.Page}));n(177),n(185);var i=n(186);n.d(t,"CodeViewer",(function(){return i.a}));var a=n(187);n.d(t,"Marked",(function(){return a.a}))},189:function(e,t,n){e.exports={block__content:"block__content__2GD6O"}},190:function(e,t,n){e.exports={ellipsis:"ellipsis__322Eq",title:"title__2ZSyt",icon:"icon__3vdW5"}},191:function(e,t,n){e.exports={ellipsis:"ellipsis__2Uc9l",wrapper:"wrapper__3y9jD",page:"page__1k_bh","canvas-wrapper":"canvas-wrapper__2oIr1",canvas:"canvas__1HL9K","page-content":"page-content__1cWrh",title:"title__2iGTa",content:"content__5eCjz",footer:"footer__St2N1"}},192:function(e,t,n){"use strict";n.d(t,"c",(function(){return c})),n.d(t,"e",(function(){return r})),n.d(t,"b",(function(){return i})),n.d(t,"d",(function(){return a})),n.d(t,"a",(function(){return s}));var c=2,r=2,i=c/r,a={color:"red",stepx:20,stepy:20,lineWidth:.15},s=8e3},193:function(e,t,n){e.exports={ellipsis:"ellipsis__1ZCmY","code-viewer":"code-viewer__2677u","code-viewer__render":"code-viewer__render__1ViX4","code-viewer__show-btn":"code-viewer__show-btn__G5BQv","code-viewer__show-btn-open":"code-viewer__show-btn-open__3P1mA","code-viewer__code":"code-viewer__code__3eHnO","code-viewer__code-open":"code-viewer__code-open__1lUmt"}},194:function(e,t,n){e.exports={ellipsis:"ellipsis__26Fs5","marked-content":"marked-content__3cowg","marked-content__copy":"marked-content__copy__K55yV"}},687:function(e,t,n){e.exports={"virtual-list-wrapper":"virtual-list-wrapper__2_yEZ","virtual-list-phantom":"virtual-list-phantom__28vnd","virtual-list":"virtual-list__3-Cdz","virtual-list-item":"virtual-list-item__zfGx2","virtual-list-item__avatar":"virtual-list-item__avatar__3Gux7","virtual-list-item__content":"virtual-list-item__content__F8Fyt","virtual-list-item__title":"virtual-list-item__title__2XtSX"}}}]);
//# sourceMappingURL=8.59cd4f55.chunk.js.map