(this["webpackJsonpreact-test-app"]=this["webpackJsonpreact-test-app"]||[]).push([[0],{116:function(n,e,t){n.exports={ellipsis:"index_ellipsis__14qZF","marked-content":"index_marked-content__s3N41","marked-content__copy":"index_marked-content__copy__NpilV"}},145:function(n,e,t){n.exports={block__content:"index_block__content__25vne"}},146:function(n,e,t){n.exports={ellipsis:"index_ellipsis__1dY9x",title:"index_title__2HyTZ",icon:"index_icon__1SXTP"}},171:function(n,e,t){"use strict";t.d(e,"Block",(function(){return a}));t(0);var r=t(145),c=t.n(r),i=t(98),s=t(1),o=t(172);t.o(o,"CodeViewer")&&t.d(e,"CodeViewer",(function(){return o.CodeViewer})),t.o(o,"Marked")&&t.d(e,"Marked",(function(){return o.Marked})),t.o(o,"Page")&&t.d(e,"Page",(function(){return o.Page}));var a=function(n){var e=n.title,t=n.children;return Object(s.jsxs)("div",{className:c.a.block,children:[Object(s.jsx)(i.a,{children:e}),Object(s.jsx)("div",{className:c.a.block__content,children:t})]})}},172:function(n,e){},173:function(n,e,t){"use strict";t.d(e,"Page",(function(){return m}));var r=t(9),c=t(0),i=t(14),s=t(66),o=t(47),a=t.n(o),l=t(68),u=t(41),d=t(1),p=t(174);t.o(p,"Block")&&t.d(e,"Block",(function(){return p.Block})),t.o(p,"CodeViewer")&&t.d(e,"CodeViewer",(function(){return p.CodeViewer})),t.o(p,"Marked")&&t.d(e,"Marked",(function(){return p.Marked}));var m=function(n){var e=Object(i.g)().path,t=s.a.filter((function(n){return n.path===e}))[0].name,o=n.children,p=n.title,m=void 0===p?t:p,h=n.backLine,j=void 0===h||h,b=Object(c.useMemo)((function(){return"boolean"===typeof j?u.d:Object(r.a)(Object(r.a)({},u.d),j)}),[j]),f=b.color,v=b.stepx,g=b.stepy,x=b.lineWidth,O=Object(c.useRef)(null),k=Object(c.useRef)(null),_=Object(c.useRef)(null),w=Object(c.useRef)();return Object(c.useEffect)((function(){var n;return k.current&&j&&(n=new ResizeObserver((function(){w.current&&clearTimeout(w.current),setTimeout((function(){if(O.current&&_.current&&k.current){var n=k.current,e=n.clientHeight,t=n.clientWidth;if(e>u.a)return;_.current.style.height="".concat(e,"px"),O.current.style.width="".concat(t*u.b,"px"),O.current.style.height="".concat(e*u.b,"px"),O.current.width=t*u.c,O.current.height=e*u.c,Object(l.a)({canvas:O.current,color:f,stepx:v*u.e,stepy:g*u.e,lineWidth:x})}}),500)}))).observe(k.current),function(){var e,t;null===(e=n)||void 0===e||null===(t=e.disconnect)||void 0===t||t.call(e)}}),[O,k,j,_]),Object(d.jsx)("div",{className:a.a.wrapper,children:Object(d.jsxs)("div",{className:a.a.page,ref:k,children:[j&&Object(d.jsx)("div",{ref:_,className:a.a["canvas-wrapper"],children:Object(d.jsx)("canvas",{ref:O,className:a.a.canvas})}),Object(d.jsxs)("div",{className:a.a["page-content"],children:[Object(d.jsx)("h2",{className:a.a.title,children:m}),Object(d.jsx)("div",{className:a.a.content,children:o}),Object(d.jsx)("div",{className:a.a.footer})]})]})})}},174:function(n,e){},175:function(n,e,t){"use strict";t(68),t(0),t(1)},176:function(n,e,t){"use strict";t.d(e,"a",(function(){return d}));var r=t(53),c=t(5),i=t(0),s=t(6),o=t.n(s),a=t(58),l=t.n(a),u=t(1),d=function(n){var e=Object(i.useState)(!1),t=Object(c.a)(e,2),s=t[0],a=t[1],d=n.render,p=n.code;return Object(u.jsxs)("div",{className:l.a["code-viewer"],children:[Object(u.jsxs)("div",{className:l.a["code-viewer__render"],children:[d,Object(u.jsx)("span",{className:o()(l.a["code-viewer__show-btn"],Object(r.a)({},l.a["code-viewer__show-btn-open"],s)),onClick:function(){return a((function(n){return!n}))},children:s?"\u5173\u95ed\u4ee3\u7801":"\u5c55\u5f00\u4ee3\u7801"})]}),Object(u.jsx)("div",{className:o()(l.a["code-viewer__code"],Object(r.a)({},l.a["code-viewer__code-open"],s)),children:p})]})}},218:function(n,e,t){"use strict";t.d(e,"a",(function(){return f}));var r=t(5),c=t(0),i=t(6),s=t.n(i),o=t(115),a=t.n(o),l=t(69),u=t.n(l),d=t(222),p=t.n(d),m=t(116),h=t.n(m),j=/^[\w\W]*?```([\w\W]*?)```[\w\W]*$/,b=t(1),f=function(n){var e=n.children,t=n.type,i=n.className,o=n.style,l=void 0===o?{}:o,d=n.onCopy,m=Object(c.useState)(""),f=Object(r.a)(m,2),v=f[0],g=f[1],x=Object(c.useState)(""),O=Object(r.a)(x,2),k=O[0],_=O[1],w=Object(c.useState)("\u590d\u5236"),y=Object(r.a)(w,2),C=y[0],S=y[1];Object(c.useEffect)((function(){if(e){var n;g((null===(n=e.match(j))||void 0===n?void 0:n[1])||""),a.a.setOptions({renderer:new a.a.Renderer,highlight:function(n){return'<pre class="hljs"><code>'+u.a.highlightAuto(n,t?[t]:void 0).value+"</code></pre>"},pedantic:!1,gfm:!0,breaks:!1,sanitize:!1,smartLists:!0,smartypants:!1,xhtml:!1});var r=a()(e);_(r)}}),[e,t]);var N=Object(c.useCallback)((function(n,e){S("\u5df2\u590d\u5236"),setTimeout((function(){S("\u590d\u5236")}),2e3),d&&d(n,e)}),[]);return Object(b.jsx)("div",{className:s()(h.a.marked,{className:i}),style:l,children:Object(b.jsxs)("div",{className:s()(h.a["marked-content"]),children:[k&&Object(b.jsx)("div",{dangerouslySetInnerHTML:{__html:k}}),Object(b.jsx)(p.a,{text:v,onCopy:N,children:Object(b.jsx)("span",{className:h.a["marked-content__copy"],children:C})})]})})}},2192:function(n,e,t){"use strict";t.r(e);var r=t(0),c=t.n(r),i=t(34),s=t.n(i),o=(t(238),t(102)),a=t(10),l=t(66),u=t(112),d=t(71),p=t.n(d),m=t(1),h=function(n){Object(r.useEffect)((function(){var n=window.location.hash;if(n){var e=document.createElement("a");e.href=n,e.click(),e.remove()}}),[]);var e;return Object(m.jsx)("div",{className:p.a.wrapper,children:Object(m.jsxs)(u.a,{children:[Object(m.jsxs)("div",{className:p.a.nav,children:[Object(m.jsx)("div",{className:p.a.logo,children:"Change Test"}),(e=l.a,Object(m.jsx)("ul",{children:e.map((function(n){var e=n.name,t=n.path;return n.routes,"/"===t?null:Object(m.jsx)("li",{children:Object(m.jsx)(u.b,{to:t,activeClassName:p.a.active,children:e})},e)}))}))]}),Object(m.jsx)("div",{className:p.a.content,children:n.children})]})})};var j=function(){return Object(m.jsx)(a.b,{children:Object(m.jsx)("div",{className:"App",children:Object(m.jsx)(h,{children:Object(o.a)(l.a)})})})},b=function(n){n&&n instanceof Function&&t.e(3).then(t.bind(null,2199)).then((function(e){var t=e.getCLS,r=e.getFID,c=e.getFCP,i=e.getLCP,s=e.getTTFB;t(n),r(n),c(n),i(n),s(n)}))};s.a.render(Object(m.jsx)(c.a.StrictMode,{children:Object(m.jsx)(j,{})}),document.getElementById("root")),b()},238:function(n,e,t){},29:function(n,e,t){"use strict";var r=t(171);t.o(r,"Block")&&t.d(e,"Block",(function(){return r.Block})),t.o(r,"CodeViewer")&&t.d(e,"CodeViewer",(function(){return r.CodeViewer})),t.o(r,"Marked")&&t.d(e,"Marked",(function(){return r.Marked})),t.o(r,"Page")&&t.d(e,"Page",(function(){return r.Page}));var c=t(173);t.o(c,"Block")&&t.d(e,"Block",(function(){return c.Block})),t.o(c,"CodeViewer")&&t.d(e,"CodeViewer",(function(){return c.CodeViewer})),t.o(c,"Marked")&&t.d(e,"Marked",(function(){return c.Marked})),t.o(c,"Page")&&t.d(e,"Page",(function(){return c.Page}));t(98),t(175);var i=t(176);t.d(e,"CodeViewer",(function(){return i.a}));var s=t(218);t.d(e,"Marked",(function(){return s.a}))},41:function(n,e,t){"use strict";t.d(e,"c",(function(){return r})),t.d(e,"e",(function(){return c})),t.d(e,"b",(function(){return i})),t.d(e,"d",(function(){return s})),t.d(e,"a",(function(){return o}));var r=2,c=2,i=r/c,s={color:"red",stepx:20,stepy:20,lineWidth:.15},o=8e3},47:function(n,e,t){n.exports={ellipsis:"index_ellipsis__Te28a",wrapper:"index_wrapper__3W36S",page:"index_page__C6jvf","canvas-wrapper":"index_canvas-wrapper__3JjFW",canvas:"index_canvas__SrbU-","page-content":"index_page-content__18UwP",title:"index_title__AzsKt",content:"index_content__2OWqu",footer:"index_footer__3aP21"}},48:function(n,e,t){n.exports={"virtual-list-wrapper":"index_virtual-list-wrapper__2EODx","virtual-list-phantom":"index_virtual-list-phantom__1eMhJ","virtual-list":"index_virtual-list__3JJ5L","virtual-list-item":"index_virtual-list-item__qRbUN","virtual-list-item__avatar":"index_virtual-list-item__avatar__1hoct","virtual-list-item__content":"index_virtual-list-item__content__3OufH","virtual-list-item__title":"index_virtual-list-item__title__12P2G"}},58:function(n,e,t){n.exports={ellipsis:"index_ellipsis__3HKPD","code-viewer":"index_code-viewer__Zhz5q","code-viewer__render":"index_code-viewer__render__1JtXu","code-viewer__show-btn":"index_code-viewer__show-btn__3rJgF","code-viewer__show-btn-open":"index_code-viewer__show-btn-open__1S8wE","code-viewer__code":"index_code-viewer__code__2KNz2","code-viewer__code-open":"index_code-viewer__code-open__qIlDe"}},66:function(n,e,t){"use strict";var r=t(0),c=t.n(r),i=t(14),s=t(102),o=t(1),a=function(n){return console.log("render"),Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("div",{style:{width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center"},children:"\u5f00\u53d1\u4e2d..."}),Object(s.a)(n.route.routes)]})},l=t(220),u=t.n(l),d=t(2198),p=t(2196),m=function(n){var e=n.language,t=n.value;return Object(o.jsx)(d.a,{language:e,style:p.a,children:t})},h="##  DayDayUp\n\n# GFM\n\n## Autolink literals\n\nwww.example.com, https://example.com, and contact@example.com.\n\n## Strikethrough\n\n~one~ or ~~two~~ tildes.\n\n## Table\n\n| a | b  |  c |  d  |\n| - | :- | -: | :-: |\n\n## Tasklist\n\n* [ ] to do\n* [x] done\n\n| a | b  |  c |  d  |\n| - | :- | -: | :-: |\n\n\n| \u5c5e\u6027     | \u7c7b\u578b                           | \u9ed8\u8ba4\u503c | \u8bf4\u660e |\n| :--------- | :------------------------------- | :------ | :---- |\n| jsUrl\\*  | \u7b2c\u4e09\u65b9\u5e94\u7528\u5165\u53e3\u6587\u4ef6 `.js` \u6587\u4ef6  | String | -    |\n| cssUrl\\* | \u7b2c\u4e09\u65b9\u5e94\u7528\u6837\u5f0f\u6587\u4ef6 `.css` \u6587\u4ef6 | String | -    |\n| id \\*    | \u7b2c\u4e09\u65b9\u5e94\u7528\u7ea6\u5b9a\u7684 DOM \u5bb9\u5668 ID   | String | -    |\n\n![img](https://exp-picture.cdn.bcebos.com/50189b40102a04e21d1215f72b7aa010bd33c204.jpg?x-bce-process=image%2Fresize%2Cm_lfit%2Cw_500%2Climit_1%2Fformat%2Cf_jpg%2Fquality%2Cq_80)\n### Time:2021.1.21\n\n- #### Git \u6062\u590d\u5355\u4e2a\u6587\u4ef6\u4fee\u6539\n\n```\n1\u3001git reflog \u67e5\u770b\u5230\u4fee\u6539\u524d\u7684\u54c8\u5e0c\u5b57\u7b26\u4e32\uff1b\n2\u3001git\tcheckout [\u54c8\u5e0c\u5b57\u7b26\u4e32] [\u9700\u8981\u6062\u590d\u7684\u6587\u4ef6\u540d]\n```\n\n- #### \u660e\u660e\u662f\u540c\u4e00\u4e2a`package.json`\u6587\u4ef6\u4e3a\u4ec0\u4e48`npm i`\u5bfc\u81f4`package-lock.json`\u53d8\u5316\u4e86\n\n```\npackage.json\u91cc\u9762\u5b9a\u4e49\u7684\u662f\u7248\u672c\u8303\u56f4\uff08\u6bd4\u5982^1.0.0\uff09\uff0c\u5177\u4f53\u8dd1npm install\u7684\u65f6\u5019\u5b89\u7684\u4ec0\u4e48\u7248\u672c\uff0c\u8981\u89e3\u6790\u540e\u624d\u80fd\u51b3\u5b9a\uff1b\n\u89e3\u51b3\uff1a\u5b89\u88c5\u4f9d\u8d56\u65f6\u4f7f\u7528npm ci\uff0c\u6b64\u65f6npm\u5b89\u88c5\u5305\u4f1a\u6839\u636epackage-lock.json\u6765\u8fdb\u884c\u5b89\u88c5\uff1b\n```\n\n> \u53c2\u8003\uff1ahttps://www.zhuyuntao.cn/npm-ci%E5%91%BD%E4%BB%A4\n\n\n\n### Time:2021.1.22\n\n- #### \u53e6\u7c7b\u7ed9\u521b\u5efa\u7684\u6807\u7b7e\u6dfb\u52a0\u5c5e\u6027\u7684\u65b9\u6cd5\n\n```ts\nconst script = Object.assign(document.createElement('script'), {\n    \ttype: 'module',\n    \tsrc: URL.createObjectURL(moduleBlob),\n    onerror() {\n    \treject(new Error(`Failed to import: ${url}`))\n    \tcleanup(script)\n    },\n    onload() {\n    \tresolve(self[importFunctionName].moduleMap[absURL])\n    \tcleanup(script)\n    }\n})\ndocument.head.appendChild(script)\n```\n\n- #### Webpack dll\u88ab\u629b\u5f03\u540e\uff0c\u66f4\u597d\u7684\u4ee3\u66ff\u65b9\u6848\n\n```js\nvar HardSourceWebpackPlugin = require('hard-source-webpack-plugin');\n\nmodule.exports = {\n  context: // ...\n  entry: // ...\n  output: // ...\n  plugins: [\n    new HardSourceWebpackPlugin()\n  ]\n}\n```\n\n> \u53c2\u8003\uff1ahttps://github.com/mzgoddard/hard-source-webpack-plugin\n\n- #### \u52a8\u6001\u521b\u5efa\u51fd\u6570\n\n```\nnew Function(...args,fun:string)\n```\n\n- #### \u89e3\u6790url\n\n```\nnew URL(https://xxx.com)\n```\n\n- #### url\u62fc\u63a5\u6280\u672f\n\n```\nnew URL(url,base);\nurl\u4e3a\u7edd\u5bf9\u8def\u5f84\uff1a\u5982https://xxx.com\uff1b base\t\u4e0d\u8d77\u4f5c\u7528\nurl\u4e3a\u8def\u5f84\uff1a\u5982 /a/b\uff0cbase\u4e3ahttps://qq.com/tc/m ==> https://qq.com/a/b\nurl\u4e3a\u8def\u5f84\uff1a\u5982 a/b\uff0cbase\u4e3ahttps://qq.com/tc/m ==>https://qq.com/tc/m/a/b\n```\n\n- #### \u5bcc\u6587\u672c\u7f16\u8f91\u5668\n\n```\nbraft-editor \n// @see https://www.yuque.com/braft-editor/be/lzwpnr\n// @see https://www.npmjs.com/package/braft-extensions\n```\n\n```shell\nrm -rf\n\n```\n\n### Time: 2021.1.25\n\n- #### \u591a\u884c\u6ea2\u51fa\u9690\u85cf\n\n```\noverflow : hidden;\ntext-overflow: ellipsis;\ndisplay: -webkit-box;\n-webkit-line-clamp: 2;\n-webkit-box-orient: vertical;\n```\n\n- #### \u5c06\u5b57\u7b26\u4e32\u8f6c\u5316\u4e3ablob url\n\n```javascript\n// \u5c06\u5b57\u7b26\u4e32\u8f6c\u5316\u4e3ablob\u5bf9\u8c61\nconst blobObj = new Blob([`const hi = \\'hello world\\'`,'consolr.log(hi)'],{type:'text/javascript'});\n\n// \u5c06blob\u5bf9\u8c61\u8f6c\u5316\u4e3ablob url\nconst blobUrl = URL.createObjectURL(blobObj);\n\n```\n\n- #### \u5c06\u7ebf\u4e0a\u5730\u5740\u8f6c\u5316\u4e3ablob\n\n```javascript\nconst xhr = new XMLHttpRequest();\n  xhr.open(\n    'get',\n 'https://ss1.bdstatic.com/70cFuXSh_Q1YnxGkpoWK1HF6hhy/it/u=1089874897,1268118658&fm=26&gp=0.jpg',\n    true,\n  );\n  xhr.responseType = 'blob';\n  xhr.onload = () => {\n    if (xhr.status === 200) {\n      const blob = xhr.response;\n      const img = Object.assign(document.createElement('img'), {\n        src: URL.createObjectURL(blob),\n        width: 200,\n        height: 200,\n        onload: () => {\n          window.URL.revokeObjectURL(img.src);\n        },\n      });\n\n      document.body.appendChild(img);\n    }\n  };\n  xhr.send();\n```\n\n- #### parseInt\u5c11\u6709\u4eba\u77e5\u7684\u4e00\u9762\n\n```\nparseInt(string,\u8fdb\u5236);\nparseInt('10',10) // 10;\nparseInt('10',2) // 2;\n```\n\n\n\n\n\n### TIME: 2021.1.28\n\n- #### npm ci\n\n```\n\u6309\u7167package-lock \u4e00\u6b21\u6027\u5168\u90e8\u6309\u7167\u4f9d\u8d56\n```\n\n\n\n- #### eslint&prettier\n\n1. ###### typescript \u9879\u76ee\u914d\u7f6e\n\n```shell\n# 1\u3001\u521b\u5efa\u9879\u76ee\nmkdir projectName\n\n# 2\u3001\u521d\u59cb\u5316\u9879\u76ee\nnpm init\n\n# 3\u3001\u521d\u59cb\u5316git\ngit init\n\n# 4\u3001\u5168\u5c40\u5b89\u88c5\nnpm i eslint prettier typescript -g\n\n# 5\u3001\u521d\u59cb\u5316tsconfig.json\ntsc init\n\n# 6\u3001\u5b89\u88c5vscode\u7684eslint&prettier\u63d2\u4ef6\n\n# 7\u3001\u914d\u7f6eeslint\neslint --init\nmodule.exports = {\n    \"env\": {\n        \"browser\": true,\n        \"es2021\": true\n    },\n    \"extends\": [\n        \"eslint:recommended\",\n        \"plugin:@typescript-eslint/recommended\"\n    ],\n    \"parser\": \"@typescript-eslint/parser\",\n    \"parserOptions\": {\n        \"ecmaVersion\": 12,\n        \"sourceType\": \"module\"\n    },\n    \"plugins\": [\n        \"@typescript-eslint\"\n    ],\n    \"rules\": {\n    }\n};\n\n# 8\u3001\u5b89\u88c5\u76f8\u5173\u4f9d\u8d56\n# typescript\u76f8\u5173\nnpm i typescript -D\n# eslint\u76f8\u5173\u3010\u4f7f\u7528eslint --init\u53ef\u9009\u62e9\u81ea\u52a8\u5b89\u88c5\u3011\n# @typescript-eslint/eslint-plugin\uff1a\u4e3aTypeScript\u4ee3\u7801\u5e93\u63d0\u4f9blint\u89c4\u5219\n# @typescript-eslint/parse\uff1aESLint\u89e3\u6790\u5668\uff0c\u5b83\u5229\u7528TypeScript ESTree\u5141\u8bb8ESLint\u6574\u7406TypeScript\u6e90\u4ee3\u7801\nnpm i eslint @typescript-eslint/eslint-plugin @typescript-eslint/parse -D\n# prettier\u76f8\u5173\n# eslint-config-prettie\uff1a\u5173\u95edeslint\u6240\u6709\u4e0d\u5fc5\u8981\u7684\u89c4\u5219\u6216\u53ef\u80fd\u4e0ePrettier\u51b2\u7a81\u7684\u89c4\u5219\u3002\n# eslint-plugin-prettier\uff1aprettier\u89c4\u5219\u4f5c\u4e3a\u683c\u5f0f\u5316\u89c4\u5219\nnpm i prettier eslint-config-prettier eslint-plugin-prettier -D\n\n# 9\u3001\u7f16\u8f91prettier\u914d\u7f6e\u6587\u4ef6\ntouch .prettierrc.js\nmodule.exports = {\n  printWidth: 120 /** \u8d85\u8fc7120\u81ea\u52a8\u6362\u884c */,\n  tabWidth: 2 /** tab\u7f29\u8fdb\u7684\u7a7a\u683c\u6570 */,\n  useTabs: false /** \u4f7f\u7528tab\uff0c\u800c\u4e0d\u662f\u7a7a\u9694 */,\n  semi: true /** \u6bcf\u4e00\u53e5\u7ed3\u5c3e\u6dfb\u52a0\uff1b */,\n  singleQuote: true /** \u4f7f\u7528 '' */,\n  trailingComma: 'all' /** \u4e0d\u80fd\u6709\u5c3e\u968f\u9017\u53f7 */,\n  bracketSpacing: true /**\u5bf9\u8c61\u6dfb\u52a0\u7a7a\u683c */,\n  jsxBracketSameLine: true /** > \u5355\u72ec\u5728\u6700\u540e\u4e00\u884c */,\n  arrowParens: 'always' /**\u5c16\u5934\u51fd\u6570\uff0c\u4e00\u4e2a\u53c2\u6570\u4e5f\u8981\u7528\u62ec\u53f7\u5305\u88f9 */,\n  insertPragma: false /**\u63d2\u5165\u4e00\u4e2a\u7279\u6b8a\u7684@format\u6807\u8bb0 */,\n}\n  \n# 10\u3001eslint\u7ed3\u5408prettier\n# \u7f16\u8f91eslint\u914d\u7f6e\u6587\u4ef6\n{\n\t\t...\n    \"extends\": [\n        ...\n        \"plugin:prettier/recommended\"\n    ],\n    ...\n}\n  \n# 11\u3001\u914d\u7f6evscode\u6587\u4ef6\uff0c\u6587\u4ef6\u4fdd\u5b58\u81ea\u52a8\u683c\u5f0f\u5316\u4ee3\u7801\nmkdir .vscode # \u8bb0\u4f4f\u4e00\u5b9a\u8981\u5230\u6839\u76ee\u5f55\u4e0d\u7136vscode\u8bfb\u53d6\u4e0d\u5230\uff0c\u6b64\u5904\u7ffb\u8fc7\ud83d\ude97\ntouch settings.json \n{\n  \"editor.formatOnSave\": true,\n  \"editor.codeActionsOnSave\": {\n  \"source.fixAll.tslint\": true,\n  \"source.fixAll.eslint\": true\n  },\n  \"editor.defaultFormatter\": \"esbenp.prettier-vscode\",\n  \"[javascript]\": {\n  \"editor.formatOnSave\": true,\n  \"editor.defaultFormatter\": \"esbenp.prettier-vscode\"\n  },\n  \"[typescript]\": {\n  \"editor.defaultFormatter\": \"esbenp.prettier-vscode\"\n  },\n  \"typescript.tsdk\": \"node_modules/typescript/lib\",\n  \"git.ignoreLimitWarning\": true\n}\n  \n # 12\u3001\u4ee3\u7801\u63d0\u4ea4\u81ea\u52a8\u68c0\u6d4b\u4fee\u590d\n # husky\uff1agit\u94a9\u5b50https://www.npmjs.com/package/husky\n # lint-staged\uff1a\u5728\u63d0\u4ea4\u4ee3\u7801\u4e4b\u524d\u8fd0\u884c\u65f6\uff0c\u53ef\u4ee5\u786e\u4fdd\u6ca1\u6709\u9519\u8bef\u8fdb\u5165\u5b58\u50a8\u5e93\u5e76\u5f3a\u5236\u6267\u884c\u4ee3\u7801\u6837\u5f0f\u3002\n npm i husky lint-staged -D\n # \u914d\u7f6epackage.json\n {\n \t...,\n \t\"husky\": {\n    \"hooks\": {\n      \"pre-commit\": \"lint-staged\"\n    }\n  },\n  \"lint-staged\": {\n    \"src/*.{ts,tsx}\": [\n      \"eslint --fix --max-warnings 0\"\n    ],\n    \"src/*.{js,jsx}\": [\n      \"eslint --fix --max-warnings 0\"\n    ]\n  }\n }\n \n # 13\u3001\u60f3\u9a8c\u8bc1\u63d0\u4ea4\u4fe1\u606f\u662f\u5426\u7b26\u5408\u89c4\u5219\n  npm install  @commitlint/config-conventional @commitlint/cli -D \n  touch .commitlintrc.js\n  module.exports={extends:['@commitlint/config-conventional'],rules:{}};\n  \n  # \u914d\u7f6epackage.json\n  \"commit-msg\": \"commitlint -e $GIT_PARAMS\"\n```\n\n> verifyCommit.js\n>\n> ```js\n> // Invoked on the commit-msg git hook by yorkie.\n> \n> const chalk = require('chalk')\n> const msgPath = process.env.GIT_PARAMS\n> const msg = require('fs').readFileSync(msgPath, 'utf-8').trim()\n> \n> const releaseRE = /^v\\d/\n> const commitRE = /^(revert: )?(feat|fix|docs|dx|refactor|perf|test|workflow|build|ci|chore|types|wip|release|deps)(\\(.+\\))?: .{1,50}/\n> \n> if (!releaseRE.test(msg) && !commitRE.test(msg)) {\n>   console.log()\n>   console.error(\n>     `  ${chalk.bgRed.white(' ERROR ')} ${chalk.red(\n>       `invalid commit message format.`\n>     )}\\n\\n` +\n>       chalk.red(\n>         `  Proper commit message format is required for automated changelog generation. Examples:\\n\\n`\n>       ) +\n>       `    ${chalk.green(`feat: add 'comments' option`)}\\n` +\n>       `    ${chalk.green(`fix: handle events on blur (close #28)`)}\\n\\n` +\n>       chalk.red(`  See .github/commit-convention.md for more details.\\n`)\n>   )\n>   process.exit(1)\n> }\n> \n> ```\n>\n\n\n\n### TIME:2021.1.29\n\n- #### #!/usr/bin/env node \u662f\u5565\uff1f\n\n```\n\u5728\u5199npm\u5305\u7684\u65f6\u5019\u9700\u8981\u5728\u811a\u672c\u7684\u7b2c\u4e00\u884c\u5199\u4e0a#!/usr/bin/env node \uff0c\u7528\u4e8e\u6307\u660e\u8be5\u811a\u672c\u6587\u4ef6\u8981\u4f7f\u7528node\u6765\u6267\u884c\u3002\n\n/usr/bin/env \u7528\u6765\u544a\u8bc9\u7528\u6237\u5230path\u76ee\u5f55\u4e0b\u53bb\u5bfb\u627enode\uff0c#!/usr/bin/env node \u53ef\u4ee5\u8ba9\u7cfb\u7edf\u52a8\u6001\u7684\u53bb\u67e5\u627enode\uff0c\u5df2\u89e3\u51b3\u4e0d\u540c\u673a\u5668\u4e0d\u540c\u7528\u6237\u8bbe\u7f6e\u4e0d\u4e00\u81f4\u95ee\u9898\u3002\n\nPS\uff1a \u8be5\u547d\u4ee4\u5fc5\u987b\u653e\u5728\u7b2c\u4e00\u884c\uff0c \u5426\u8005\u4e0d\u4f1a\u751f\u6548\n\n\u6b64\u65f6\u6211\u4eec\u53ef\u4ee5\u7f16\u5199 node\u811a\u672c\u4e86\u3002\n\u628a\u7f16\u5199\u7684\u811a\u672c\u4f7f\u7528 `chmod 755 \u811a\u672c\u8def\u5f84`\n\u6b64\u65f6\u6211\u4eec\u80fd\u76f4\u63a5\u8bbf\u95ee\u8def\u5f84\u6267\u884c\u811a\u672c\n\nchmod\u662fLinux\u4e0b\u8bbe\u7f6e\u6587\u4ef6\u6743\u9650\u7684\u547d\u4ee4\uff0c\u540e\u9762\u7684\u6570\u5b57\u8868\u793a\u4e0d\u540c\u7528\u6237\u6216\u7528\u6237\u7ec4\u7684\u6743\u9650\u3002\n\u4e00\u822c\u662f\u4e09\u4e2a\u6570\u5b57\uff1a\n\u7b2c\u4e00\u4e2a\u6570\u5b57\u8868\u793a\u6587\u4ef6\u6240\u6709\u8005\u7684\u6743\u9650\n\u7b2c\u4e8c\u4e2a\u6570\u5b57\u8868\u793a\u4e0e\u6587\u4ef6\u6240\u6709\u8005\u540c\u5c5e\u4e00\u4e2a\u7528\u6237\u7ec4\u7684\u5176\u4ed6\u7528\u6237\u7684\u6743\u9650\n\u7b2c\u4e09\u4e2a\u6570\u5b57\u8868\u793a\u5176\u5b83\u7528\u6237\u7ec4\u7684\u6743\u9650\u3002\n\u6743\u9650\u5206\u4e3a\u4e09\u79cd\uff1a\u8bfb\uff08r=4\uff09\uff0c\u5199\uff08w=2\uff09\uff0c\u6267\u884c\uff08x=1\uff09\u3002\u7efc\u5408\u8d77\u6765\u8fd8\u6709\u53ef\u8bfb\u53ef\u6267\u884c\uff08rx=5=4+1\uff09\u3001\u53ef\u8bfb\u53ef\u5199\uff08rw=6=4+2\uff09\u3001\u53ef\u8bfb\u53ef\u5199\u53ef\u6267\u884c(rwx=7=4+2+1)\u3002\n\u6240\u4ee5\uff0cchmod 755 \u8bbe\u7f6e\u7528\u6237\u7684\u6743\u9650\u4e3a\uff1a\n1.\u6587\u4ef6\u6240\u6709\u8005\u53ef\u8bfb\u53ef\u5199\u53ef\u6267\u884c\n2.\u4e0e\u6587\u4ef6\u6240\u6709\u8005\u540c\u5c5e\u4e00\u4e2a\u7528\u6237\u7ec4\u7684\u5176\u4ed6\u7528\u6237\u53ef\u8bfb\u53ef\u6267\u884c\n3.\u5176\u5b83\u7528\u6237\u7ec4\u53ef\u8bfb\u53ef\u6267\u884c\n```\n\n- #### package.json\u4e2d\u7684bin\u6709\u5565\u4f5c\u7528\uff1f\n\n```\n\u914d\u7f6e\u547d\u4ee4\uff0c\u5982\u5168\u5c40\u5b89\u88c5\u7684webpack\u53ef\u4ee5\u4f7f\u7528webpack xxx\u547d\u4ee4\n```\n\n\n\n### TIME: 2021.2.2\n\n- #### \u5b89\u5229\u4e24\u4e2a\u5305\n\n```\n1\u3001commander.js\n> \u5b8c\u6574\u7684 node.js \u547d\u4ee4\u884c\u89e3\u51b3\u65b9\u6848\u3002\n> https://github.com/tj/commander.js/blob/HEAD/Readme_zh-CN.md\n\n2\u3001shelljs\n> \u5728Node.js API\u4e4b\u4e0a\u7684Unix shell\u547d\u4ee4\u7684\u53ef\u79fb\u690d\uff08Windows / Linux / OS X\uff09\u5b9e\u73b0\u3002\u60a8\u53ef\u4ee5\u4f7f\u7528\u5b83\u6d88\u9664shell\u811a\u672c\u5bf9Unix\u7684\u4f9d\u8d56\uff0c\u540c\u65f6\u4ecd\u7136\u4fdd\u7559\u5176\u719f\u6089\u800c\u5f3a\u5927\u7684\u547d\u4ee4\u3002\u60a8\u8fd8\u53ef\u4ee5\u5168\u5c40\u5b89\u88c5\u5b83\uff0c\u4ee5\u4fbf\u53ef\u4ee5\u4eceNode\u9879\u76ee\u5916\u90e8\u8fd0\u884c\u5b83-\u544a\u522b\u90a3\u4e9b\u8ba8\u538c\u7684Bash\u811a\u672c\n> https://github.com/shelljs/shelljs\n```\n\n\n\n- #### commander\n\n```js\n\u7b80\u5355\u5b9e\u7528\uff1a\n\t- \u5b89\u88c5\uff1anpm install commander\n\t- \u4f7f\u7528\uff1a\n\t#1 \u6784\u5efaprogram\u5bf9\u8c61\uff1a\n\t\n\t\t1\u3001\u63d0\u4f9b\u5168\u5c40\u5bf9\u8c61(\u4e0d\u9002\u7528\u591a\u79cd\u65b9\u5f0f\u6765\u4f7f\u7528 Commander)\uff1a\n\t\tconst { program } = require('commander');\n\t\tprogram.version('0.0.1');\n\t\t2\u3001\u521b\u5efa\u5bf9\u8c61\n\t\tconst { Command } = require('commander');\n\t\tconst program = new Command();\n\t\tprogram.version('0.0.1');\n\t\t\n #2 \u81ea\u5b9a\u4e49\u9009\u9879\n \n\t\tprogram\n\t\t\t.option('-c,--config-env <type>','description','default') \n\t\t\t// option('\u77ed,\u957f<>\u5fc5\u586b\u7684\u53c2\u6570,[]\u9009\u586b\u7684\u53c2\u6570',\u63cf\u8ff0,\u9ed8\u8ba4\u503c) \n\t\t\t//\u5fc5\u586b\u9009\u9879\u8981\u4e48\u8bbe\u6709\u9ed8\u8ba4\u503c\uff0c\u8981\u4e48\u5fc5\u987b\u5728\u547d\u4ee4\u884c\u4e2d\u8f93\u5165 \u5426\u5219\u62a5\u9519\n\t\t\t//\u9009\u586b\u9879\u5982\u679c\u4f20\u4e86 \u4e3a\u4f20\u7684\u503c\u3002\u4e0d\u4f20\u4e3aboolean\uff08true\uff09\n\t\t\t.parse(process.argv) // \u89e3\u6790\u547d\u4ee4\u884c\n\t\t\n #3 \u83b7\u53d6\u89e3\u6790\u7ed3\u679c\n \t\t#\u8fd0\u884c\uff1axxx --config-env settings\n \t\tconst options = program.opts();\n \t\tif(options.configEnv)....\n \t\tconsole.log(options); // {configEnv:'settings'} \u9a7c\u5cf0\u54e6\n \n #4 \u5176\u4ed6\n \t\t1\u3001\u53d6\u53cd\uff1a\n \t\t.option('--no-sauce', 'Remove sauce')\n \t\t\u53d6\u503c\uff1aoptions.sauce // false\n \t\t\n \t\t2\u3001\u53c2\u6570\u662f\u4e00\u4e2a\u6570\u7ec4\n \t\t.option('-n, --number <numbers...>', 'specify numbers')\n \t\t#\u8fd0\u884c\uff1axxx -n 1 2 3 4\n \t\tconsole.log(options); //{number:[1,2,3,4]}\n \t\t\n \t\t3\u3001\u8bbe\u7f6e\u811a\u672c\u7248\u672c\n \t\tprogram.version('0.0.1');\n \t\t#\u8fd0\u884c xxx -V // 0.0.1\n \t\t\n \t\t4\u3001\u4f7f\u7528\u6784\u9020\u51fd\u6570Option\uff0c\u5bf9\u9009\u9879\u8fdb\u884c\u66f4\u8be6\u5c3d\u7684\u914d\u7f6e\n \t\tprogram\n  \t.addOption(new Option('-s, --secret').hideHelp()) // xxx --help\u4e0d\u5c55\u793a\n  \t.addOption(new Option('-t, --timeout <delay>', 'timeout in seconds').default(60, 'one minute'))\n \t .addOption(new Option('-d, --drink <size>', 'drink size').choices(['small', 'medium', 'large'])); //\u5982\u679c\u503c\u4e0d\u5728 choices\u6570\u7ec4\u4e2d\u62a5\u9519\n \t \n \t \u8fd0\u884c\uff1a\n \t xxx --help\n\t\tUsage: help [options]\n\n\t\tOptions:\n \t\t -t, --timeout <delay>  timeout in seconds (default: one minute)\n \t\t -d, --drink <size>     drink cup size (choices: \"small\", \"medium\", \"large\")\n \t\t -h, --help             display help for command\n\n\t xxx --drink huge\n\t\terror: option '-d, --drink <size>' argument 'huge' is invalid. Allowed choices are small, medium, large.\n\t\t\n\t\t5\u3001\u81ea\u5b9a\u4e49\u63a5\u6536\u53c2\u6570\u7684\u51fd\u6570\n\t\tfunction collect(value, previous) {\n  \t\treturn previous.concat([value]);\n\t\t}\n\t\t.option('-c, --collect <value>', 'repeatable value', collect, [])\n\t\t# \u8fd0\u884c\uff1a\n\t\txxx -c a -c b -c c // ['a','b','c']\n\t\t\n\n #5 \u547d\u4ee4\n \u5982\uff1agit clone xx; git pull;\n \n \u901a\u8fc7.command()\u6216.addCommand(new Commond(xxx))\u53ef\u4ee5\u914d\u7f6e\u547d\u4ee4\n \n program\n  .command('clone <source> [destination]')\n  .description('clone a repository into a newly created directory')\n  .action((source, destination) => {\n    console.log('clone command called');\n    console.log(source);\n  });\n  \n  #\u8fd0\u884c\uff1axxx clone wodesijie \u63cf\u8ff0 \uff1b\n  \u6253\u5370\uff1aclone command called \n  \t\t wodesijie\n  \t\t \n#6 \u6ce8\u610f\u70b9\n\t\n\t1\u3001debug\n\tprogram\n  .command('start <service>', 'start named service')\n  .command('stop [service]', 'stop named service, or all if no name supplied');\n  \u5982\u679c\u8fd0\u884c\u4f7f\u7528\u662f node test\uff08\u6587\u4ef6\uff09 start \u4f1a\u62a5\u9519\uff0c\u56e0\u4e3a\u89e3\u6790\u6210 test-start\u547d\u4ee4\u4e86\uff0c\u6b64\u65f6\u6211\u4eec\u5e94\u8be5\u6539\u5199\u6210\uff1a\n  program.command('start <service>').description('start named service')\n  program.command('stop [service]').description('stop named service, or all if no name supplied')\n\n\t2\u3001parseAsync\n  \u5982\u679c.action\u4e2d\u662f\u4e00\u4e2a \u5f02\u6b65\u51fd\u6570\uff0c\u6211\u4eec\u5e94\u8be5\u4f7f\u7528\u5f02\u6b65\u89e3\u6790\n```\n\n\n\n### TIME:2021.2.3\n\n- #### \u521d\u5b66Linux\n\n  ##### 1\u3001dirs\u3001popd\u3001pushd\n\n  ```shell\n  # pushd\uff1a\n  \tpushd \u76ee\u5f55   # \u7ed9\u76ee\u5f55\u6808\u6dfb\u52a0\u4e00\u4e2a\u76ee\u5f55\n  \tpushd       # \u5c06\u76ee\u5f55\u6808\u9876\u5c422\u4e2a\u76ee\u5f55\u4ea4\u6362\n  \tpushd +n/-n # \u5207\u5230\u5230\u4efb\u610f\u76ee\u5f55\u3002n\u4e3a\u7d22\u5f15\u503c\u3002+\u4ece\u4e0a\u5f80\u4e0b\u6570\u3002-\u4ece\u4e0b\u5f80\u4e0a\u6570\n  \n  # popd\uff1a\n  \tpopd        # \u79fb\u9664\u76ee\u5f55\u6808\u7b2c\u4e00\u4e2a\n  \tpopd +n/-n\n  \t\n  # dirs:\n  \tdirs -p     # \u6bcf\u884c\u663e\u793a\u4e00\u884c\u6570\u636e\n  \tdirs -v     # \u5c55\u793a\u7d22\u5f15\n  \tdirs -c     # \u6e05\u7a7a\u76ee\u5f55\u6808\n  ```\n\n  \n\n- #### \u9519\u8bef\u6355\u83b7\u5de5\u5177\n\n```\nsentry   https://sentry.io/organizations/change-ae/issues/ # \u7b80\u5355\u63a2\u7d22\u4e86\n```\n\n\n\n### TIME:2021.2.4\n\n- #### \u670d\u52a1\u5668\u642d\u5efasentry\uff08centOS7\uff09\n\n```bash\n # \u53c2\u8003\uff1a\n    https://linoxide.com/containers/upgrade-docker-fedora-centos/\n# \u5b89\u88c5docker\n#1. \u5378\u8f7d\u5df2\u6709\u7684docker\n    yum remove docker docker-common docker-selinux docker-engine\n\n#2. \u5b89\u88c5docker\u7684\u4f9d\u8d56\n    yum install -y yum-utils device-mapper-persistent-data lvm2\n\n#3. \u5b89\u88c5docker-ce\n    yum-config-manager --add-repo https://download.docker.com/linux/centos/docker-ce.repo\n    yum install docker-ce\n\n#4. \u542f\u52a8docker\u540e\u53f0\u670d\u52a1\n    service docker start\n\n#5. \u6d4b\u8bd5\u8fd0\u884c\n    docker run hello-world\n\n#6. \u8bbe\u7f6e\u5f00\u673a\u542f\u52a8\n    sudo systemctl enable docker\n    \n    \n # \u5b89\u88c5docker-compose\n \n curl -L https://get.daocloud.io/docker/compose/releases/download/1.25.0/docker-compose-`uname -s`-`uname -m` > /usr/local/bin/docker-compose\n\nchmod +x /usr/local/bin/docker-compose\n\n# \u6d4b\u8bd5\ndocker-compose version\n\n# \u5b89\u88c5sentry\n\n#1. \u5b89\u88c5git\n    yum install git\n\n#2. \u4e0b\u8f7donpremise\n    git clone https://github.com/getsentry/onpremise.git\n\n#3. \u5b89\u88c5\n    cd onpremise\n    ./install.sh\n\n#4. \u542f\u52a8\n    docker-compose up -d\n\n#5. \u521b\u5efa\u8d26\u53f7\n    docker-compose run --rm web createuser\n    \n#\u6700\u540e\u5728\u6d4f\u89c8\u5668\u4e2d\u8bbf\u95ee http://localhost:9000/\n```\n\n\n\n- #### \u81ea\u52a8\u53d1\u5e03\u5305\n\n```javascript\n# \u811a\u672c\uff1a\n\n#!/usr/bin/env node\n\nconst path = require('path');\nconst shelljs = require('shelljs');\nconst program = require('commander');\n\n// \u62f7\u8d1dpackage.json\nconst sourceFile = path.resolve(__dirname, '../package.json')\nconst targetFile = path.resolve(__dirname, '../dist/package.json');\nshelljs.cp('-f',sourceFile,targetFile);\n\nconst packagejson = require(targetFile);\nconst currentVersion = packagejson.version;\nconst versionArr = currentVersion.split('.');\nconst [mainVersion, subVersion, phaseVersion] = versionArr;\n\n// \u9ed8\u8ba4\u7248\u672c\u53f7\nconst defaultVersion = `${mainVersion}.${subVersion}.${+phaseVersion+1}`;\n\nlet newVersion = defaultVersion;\n\n// \u4ece\u547d\u4ee4\u884c\u53c2\u6570\u4e2d\u53d6\u7248\u672c\u53f7\nprogram\n  .option('-v, --versions <type>', 'Add release version number', defaultVersion);\n\nprogram.parse(process.argv);\n\nif (program.opts().versions) {\n  newVersion = program.opts().versions;\n}\n\nfunction publish() {\n  shelljs.sed('-i', `\"name\": \"auto-publish\"`, `\"name\": \"change-auto-publish\"`, targetFile); // \u4fee\u6539\u7248\u672c\u53f7\n  shelljs.sed('-i', `\"version\": \"${currentVersion}\"`, `\"version\": \"${newVersion}\"`, targetFile); // \u4fee\u6539\u7248\u672c\u53f7\n  shelljs.cd('dist');\n  shelljs.exec('npm publish --access public'); // \u53d1\u5e03\n}\n\npublish(); \n```\n\n\n\n### Jenkins\u914d\u7f6e\n\n##### \u5b89\u88c5\n\n```shell\nsudo wget -O /etc/yum.repos.d/jenkins.repo https://pkg.jenkins.io/redhat-stable/jenkins.repo\nsudo rpm --import https://pkg.jenkins.io/redhat-stable/jenkins.io.key\nyum install jenkins\n```\n\n\n\n##### \u914d\u7f6e\n\n```shell\nvi /etc/sysconfig/jenkins\n# \u628aJENKINS_USER=\"jenkins\" \u4fee\u6539\u4e3a =\"root\"\n# \u628aJENKINS_PORT=\"8080\"    \u4fee\u6539\u4e3a =\"9090\"\n\n# \u542f\u52a8\u53ef\u80fd\u4f1a\u62a5\u9519\uff0c\u4e00\u822c\u662fjava\u8def\u5f84\u4e0d\u5bf9\nvi /etc/init.d/jenkins\n# \u8bbe\u7f6e\u6b63\u786e\u5730\u5740\n\n# \u914d\u7f6e\u6587\u4ef6\u4fee\u6539\u6267\u884c\u4e0b\u9762\u547d\u4ee4\nsystemctl daemon-reload\n\n# \u542f\u52a8 status\uff1a\u72b6\u6001 stop\uff1a\u505c\u6b62 restart\uff1a\u91cd\u542f\nsystemctl start jenkins\n```\n\n![image-20210205174525077](/Users/chensiji/Library/Application Support/typora-user-images/image-20210205174525077.png)\n\n\n\n##### \u8fdb\u5165\n\n```shell\n# \u8bbf\u95ee\u5bf9\u5e94\u7aef\u53e3\n\n# \u83b7\u53d6\u5bc6\u7801\ntail /var/lib/jenkins/secrets/initialAdminPassword\n```\n\n\n\n##### Github\u914d\u7f6e\n\n```\n1\u3001\u53f3\u4e0a\u89d2\u5934\u50cf->Settings->Developer settings->Personal access tokens->Generate new token\n```\n\n![image-20210305182059509](/Users/chensiji/Library/Application Support/typora-user-images/image-20210305182059509.png)\n\n```\n2\u3001Jenkins\u914d\u7f6e\uff1a\u4f9d\u6b21\u70b9\u51fb\u7cfb\u7edf\u7ba1\u7406->\u7cfb\u7edf\u8bbe\u7f6e\uff0c\u627e\u5230GitHub\uff0c\u6dfb\u52a0GitHub\u670d\u52a1\u5668\uff0c\u5176\u4e2dAPI URL\u662f\u56fa\u5b9a\u7684\uff0c\u8f93\u5165\u540d\u79f0\uff0c\u70b9\u51fb\u6dfb\u52a0\uff0c\u6dfb\u52a0\u4e00\u4e2a\u51ed\u636e\u3002\n```\n\n![image-20210305182350007](/Users/chensiji/Library/Application Support/typora-user-images/image-20210305182350007.png)\n\n```\n3\u3001jenkins\u7c7b\u578b\u9009\u62e9Secret text\uff0cSecret\u8f93\u5165\u521a\u624d\u590d\u5236\u7684tonken\uff0c\u63cf\u8ff0\u968f\u610f\u5199\uff0c\u5c31\u662f\u4e00\u4e2a\u522b\u540d\u3002\n```\n\n\n\n```\n4\u3001\u5b89\u88c5nodejs\u63d2\u4ef6\u70b9\u51fb\u7cfb\u7edf\u7ba1\u7406->\u63d2\u4ef6\u7ba1\u7406->\u53ef\u9009\u63d2\u4ef6\u641c\u7d22NodeJS->\u5b89\u88c5\n```\n\n\n\n```\n5\u3001\u5b89\u88c5\u4e4b\u540e\u91cd\u542fJenkins\u3002\u4e4b\u540e\u9700\u8981\u5728\u7cfb\u7edf\u8bbe\u7f6e->\u5168\u5c40\u5de5\u5177\u914d\u7f6e\u4e2d\u914d\u7f6enode\u3002\u4e0b\u62c9\u627e\u5230nodejs\uff0c\u65b0\u589enodejs\uff0c\u8f93\u5165\u522b\u540d\uff0c\u9009\u62e9\u7248\u672c\u3002\u5728\u63a5\u4e0b\u6765\u7684\u65b0\u5efa\u4efb\u52a1\u4e2d\uff0c\u7528\u7684\u662f\u8fd9\u4e2a\u522b\u540d\n```\n\n\n\n```\n6\u3001\u70b9\u51fb\u65b0\u5efa\u4efb\u52a1\uff0c\n\u8f93\u5165\u540d\u79f0\uff0c\u9009\u62e9\u201c\u6784\u5efa\u4e00\u4e2a\u81ea\u7531\u98ce\u683c\u7684\u8f6f\u4ef6\u9879\u76ee\u201d\u3002\n\u8f93\u5165\u63cf\u8ff0\uff0c\u5199\u4e0a\u4f60\u7684GitHub\u5730\u5740\uff1b\n\u6e90\u7801\u7ba1\u7406\uff1a\u8fd9\u91cc\u8f93\u5165\u7684url\u662f\u4ee5.git\u7ed3\u5c3e\u7684\uff0c\u5c31\u662f\u4f60\u514b\u9686\u9879\u76ee\u662f\u4f7f\u7528\u7684url\u3002\u4e4b\u540e\u70b9\u51fb\u6dfb\u52a0\uff0c\u9009\u62e9\u8d26\u53f7\u5bc6\u7801\uff0c\u8f93\u5165\u5373\u53ef\u3002\n\u6784\u5efa\u73af\u5883\uff1a\u9009\u62e9nodejs\uff0c\u521a\u624d\u5728\u5168\u5c40\u914d\u7f6e\u5de5\u5177\u4e2d\u914d\u7f6e\u7684\n\u6784\u5efa\uff1a\u9009\u62e9\u589e\u52a0\u6784\u5efa\u6b65\u9aa4->\u6267\u884cshell\nnpm install -g cnpm --registry=https://registry.npm.taobao.org;\ncnpm i;\nnpm run start;\nls;\n```\n\n\n\n##### \u914d\u7f6eGithubIP\n\n```shell\n# \u627e\u5230\u53ef\u8fde\u63a5\u7684ip\u5730\u5740\nhttp://ping.chinaz.com/\n\n# \u7f16\u8f91host\u6587\u4ef6\nvim /etc/hosts/\n\n# \u5185\u5bb9\u6dfb\u52a0 \u3010ip\u3011 github.com\n```\n\n\n\n##### \u89e3\u51b3Github\u6162\u7684\u65b9\u6cd5\n\n```\nhttps://github.com.cnpmjs.org --\u66ff\u6362-> \u539f\u672cgithub\n```\n\n\n\n##### \u53ef\u80fd\u627e\u4e0d\u5230npm\u547d\u4ee4\n\n```shell\nnpm bin -g # \u67e5\u8be2\u5230bin\u76ee\u5f55\nnpm root -g # \u5168\u5c40\u5305\u7684\u76ee\u5f55\n\n# \u67e5\u8be2\u5230\u73af\u5883PATH\necho $PATH;\n\n# \u628a\u73af\u5883\u53d8\u91cf\u914d\u7f6e\u5230Jenkins\n\u3010\u7cfb\u7edf\u7ba1\u7406\u3011->\u3010\u7cfb\u7edf\u8bbe\u7f6e\u3011->\u3010\u5168\u5c40\u5c5e\u6027\u3011->\u3010\u73af\u5883\u53d8\u91cf\u3011\n```\n\n\n\n### TIME:2021.3.17\n\n#### `pageack.json`\u4e2d`bin`\u7684\u4f5c\u7528\n\n```\n\u6211\u4eec\u5168\u5c40\u4f7f\u7528 webpack xxx\u7b49\u547d\u4ee4\uff0c\u90fd\u662f\u7531bin\u914d\u7f6e\u7684\uff1b\n\u6bd4\u5982\uff1a \nbin:{\n\t'change':'xxxxx xxx'\n}\n\u5168\u5c40\u5b89\u88c5\u7684\u5305\u6267\u884c\uff1a change xxx\u5373\u53ef\u4ee5\u6267\u884c\u540e\u9762\u547d\u4ee4\n```\n\n\n\n#### \u7eaf\u51fd\u6570\n\n```\n1\u3001\u4e0d\u5c1d\u8bd5\u4fee\u6539\u5165\u53c2\n2\u3001\u4f20\u5165\u76f8\u540c\u7684\u53c2\u6570\u5c06\u8fd4\u56de\u76f8\u540c\u7684\u503c\nfunction sum(a, b) {\n  return a + b;\n}\n```\n\n\n\n#### \u4ee3\u7801\u5206\u5272\u5e93\n\n```\nloadable-components\n```\n\n\n\n#### react\u9519\u8bef\u8fb9\u754c\n\n```js\n// getDeriveredStateFromError \u4f7f\u7528\u5907\u7528\u65b9\u6848\n// componentDidCatch \u6253\u5370\u65e5\u5fd7\n\nclass ErrorBoundary extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = { hasError: false };\n  }\n\n  static getDerivedStateFromError(error) {\n    // \u66f4\u65b0 state \u4f7f\u4e0b\u4e00\u6b21\u6e32\u67d3\u80fd\u591f\u663e\u793a\u964d\u7ea7\u540e\u7684 UI\n    return { hasError: true };\n  }\n\n  componentDidCatch(error, errorInfo) {\n    // \u4f60\u540c\u6837\u53ef\u4ee5\u5c06\u9519\u8bef\u65e5\u5fd7\u4e0a\u62a5\u7ed9\u670d\u52a1\u5668\n    logErrorToMyService(error, errorInfo);\n  }\n\n  render() {\n    if (this.state.hasError) {\n      // \u4f60\u53ef\u4ee5\u81ea\u5b9a\u4e49\u964d\u7ea7\u540e\u7684 UI \u5e76\u6e32\u67d3\n      return <h1>Something went wrong.</h1>;\n    }\n\n    return this.props.children; \n  }\n}\n```\n\n\n\n### 2021.3.18\n\n#### useEffect\u4e0euseLayoutEffect\u7684\u6267\u884c\u65f6\u673a",j=t(221),b=t.n(j),f=t(83),v={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6"};function g(n){var e=n.level,t=n.children,r=Object(f.a)(n,["level","children"]);return c.a.createElement(v[e]||v.h1,r,t)}var x=function(n){var e=n.level,t=n.children;if(t&&t.length>0){var r=t[0].props.value;return Object(o.jsxs)(g,{level:"h".concat(e),id:r,children:[Object(o.jsx)("span",{className:"title",children:t}),Object(o.jsx)("a",{href:"#".concat(r),className:"link",children:"#"})]})}return Object(o.jsx)(o.Fragment,{children:t})},O=t(29),k=function(){return Object(o.jsx)(O.Page,{children:Object(o.jsx)(u.a,{plugins:[b.a],source:h,escapeHtml:!0,renderers:{code:m,heading:x}})})},_=t(223),w=t.n(_),y=t(69),C=t.n(y),S=function(){var n=Object(r.useRef)(null),e=Object(r.useMemo)((function(){return new w.a({html:!0,linkify:!0,typographer:!0,highlight:function(n,e){if(e&&C.a.getLanguage(e))try{return'<pre class="hljs"><code>'+C.a.highlight(e,n,!0).value+"</code></pre>"}catch(t){}return'<pre class="hljs"><code>'+n+"</code></pre>"}})}),[]);return Object(r.useEffect)((function(){if(C.a.highlightAll(),n.current){var t=e.render(h);n.current.innerHTML=t}}),[e,n]),Object(o.jsx)(O.Page,{children:Object(o.jsx)("div",{ref:n})})},N=t(139),E=t.n(N),R=t(10),M=t(24),T=t.n(M),P=t(54),L=function(n){return new Promise((function(n,e){setTimeout((function(){10*Math.random()>0?n({data:[{name:"change",age:23},{name:"ad",age:"22"}],code:"Success"}):e({code:"Failed",msg:"\u8bf7\u6c42\u5931\u8d25\uff01",data:[]})}),3e3)}))},F=Object(R.d)({key:"asyncState",get:function(){var n=Object(P.a)(T.a.mark((function n(e){var t;return T.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e.get,n.prev=1,n.next=4,L();case 4:t=n.sent,n.next=10;break;case 7:n.prev=7,n.t0=n.catch(1),console.log(n.t0);case 10:return n.abrupt("return",t);case 11:case"end":return n.stop()}}),n,null,[[1,7]])})));return function(e){return n.apply(this,arguments)}}()}),V=(Object(R.e)({key:"selectorFamily",get:function(n){return Object(P.a)(T.a.mark((function n(){var e;return T.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,L();case 3:e=n.sent,n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),console.log(n.t0);case 9:return n.abrupt("return",e);case 10:case"end":return n.stop()}}),n,null,[[0,6]])})))}}),function(){var n=Object(R.g)(F);return Object(o.jsx)("div",{children:null===n||void 0===n?void 0:n.code})}),I=function(){return Object(o.jsx)(E.a,{message:!0,children:Object(o.jsx)(r.Suspense,{fallback:Object(o.jsx)(o.Fragment,{children:"\u52a0\u8f7d\u4e2d..."}),children:Object(o.jsx)(V,{})})})},q=Object(R.c)({key:"nameState",default:""}),D=Object(R.d)({key:"countState",get:function(n){return(0,n.get)(q).length}}),A=function(){var n=Object(R.g)(D);return Object(o.jsxs)("div",{children:["\u540d\u5b57\u957f\u5ea6\u4e3a:",n]})},U=t(5),H=t(2197),W=function(){var n=Object(R.f)(q),e=Object(U.a)(n,2),t=e[0],r=e[1];return Object(o.jsxs)("div",{children:[Object(o.jsx)(H.a,{value:t,onChange:function(n){return r(n.target.value)}}),Object(o.jsxs)("div",{children:["\u8f93\u5165\u7684\u540d\u5b57\u662f\uff1a",t]})]})},B=Object(R.d)({key:"asyncState",get:function(){var n=Object(P.a)(T.a.mark((function n(e){var t;return T.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e.get,n.next=3,new Promise((function(n,e){setTimeout((function(){10*Math.random()>0?n({data:[{name:"change",age:23},{name:"ad",age:"22"}],code:"Success"}):e({code:"Failed",msg:"\u8bf7\u6c42\u5931\u8d25\uff01",data:[]})}),3e3)}));case 3:return t=n.sent,n.abrupt("return",t);case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}),z=function(){var n=Object(R.h)(B);switch(n.state){case"hasValue":return Object(o.jsx)("div",{children:n.contents.code});case"loading":return Object(o.jsx)("div",{children:"Loading..."});case"hasError":throw n.contents}},J=Object(R.c)({key:"atomTest",default:0}),G=Object(R.d)({key:"setGetTest",get:function(n){return(0,n.get)(J)/2},set:function(n,e){(0,n.set)(J,e instanceof R.a?e:4*e)}}),$=function(){var n=Object(R.f)(G),e=Object(U.a)(n,2),t=e[0],r=e[1];return Object(o.jsx)("div",{children:Object(o.jsx)(H.a,{onChange:function(n){return r(n.target.value)},value:t})})},K=t(82),X=t(231),Y=t(232),Z=Object(R.c)({key:"todolistState",default:[]}),Q=Object(R.d)({key:"todolistStatsState",get:function(n){var e=(0,n.get)(Z),t=e.length,r=e.filter((function(n){return n.isComplete})).length;return{totalNum:t,totalComplete:r,totalWillComplete:t-r,precentComplete:0===r?0:r/t}}}),nn=0;var en=function(){var n=Object(r.useState)(""),e=Object(U.a)(n,2),t=e[0],c=e[1],i=Object(R.i)(Z);return Object(o.jsxs)("div",{style:{display:"flex"},children:[Object(o.jsx)(H.a,{onChange:function(n){return c(n.target.value)},value:t}),Object(o.jsx)(Y.a,{type:"primary",onClick:function(){t?(i((function(n){return[{id:nn++,isComplete:!1,text:t}].concat(Object(K.a)(n))})),c("")):X.a.error({message:"\u8bf7\u8f93\u5165\u6709\u6548\u503c"})},children:"\u6dfb\u52a0"})]})},tn=t(9),rn=function(n){var e=n.id,t=n.text,r=n.isComplete,c=Object(R.f)(Z),i=Object(U.a)(c,2),s=i[0],a=i[1];return Object(o.jsxs)("div",{style:{padding:"5px 10px",display:"flex",justifyContent:"space-around",background:"#5a66ff"},children:[Object(o.jsx)("input",{type:"checkbox",value:r,onClick:function(){var n=s.map((function(n){return n.id===e?Object(tn.a)(Object(tn.a)({},n),{},{isComplete:!n.isComplete}):n}));a(n)}}),Object(o.jsx)("div",{children:t}),Object(o.jsx)("span",{onClick:function(){var n=s.filter((function(n){return n.id!==e}));a(n)},style:{cursor:"pointer"},children:"x"})]})},cn=function(){var n=Object(R.g)(Z);return Object(o.jsx)("div",{children:n.map((function(n){return Object(r.createElement)(rn,Object(tn.a)(Object(tn.a)({},n),{},{key:n.id}))}))})},sn=function(){var n=Object(R.g)(Q),e=n.totalNum,t=n.totalComplete,r=n.totalWillComplete,c=n.precentComplete;return Object(o.jsxs)("div",{children:[Object(o.jsx)("p",{children:"\u7edf\u8ba1"}),Object(o.jsxs)("ul",{children:[Object(o.jsxs)("li",{children:["\u603b\u6570\uff1a",e]}),Object(o.jsxs)("li",{children:["\u5df2\u5b8c\u6210\uff1a",t]}),Object(o.jsxs)("li",{children:["\u5f85\u5b8c\u6210\uff1a",r]}),Object(o.jsxs)("li",{children:["\u5b8c\u6210\u7387\uff1a","".concat(Math.floor(100*c),"%")]})]})]})},on=function(){return Object(o.jsxs)("div",{children:[Object(o.jsx)(en,{}),Object(o.jsx)(cn,{}),Object(o.jsx)(sn,{})]})},an=(t(703),function(){return Object(o.jsx)(O.Page,{children:Object(o.jsxs)("div",{className:"docs",children:[Object(o.jsx)("h1",{children:"Recoil"}),Object(o.jsx)("h2",{children:"\u7b80\u5355\u4f7f\u7528"}),Object(o.jsx)(W,{}),Object(o.jsx)(A,{}),Object(o.jsx)("hr",{}),Object(o.jsx)("h2",{children:"\u5199\u4e00\u4e2aTodoList"}),Object(o.jsx)(on,{}),Object(o.jsx)("hr",{}),Object(o.jsx)("h2",{children:"\u6765\u4e2a\u5f02\u6b65\u7684"}),Object(o.jsx)(I,{}),Object(o.jsx)("h2",{children:"set get Selector"}),Object(o.jsx)($,{}),Object(o.jsx)("h2",{children:"Loadable "}),Object(o.jsx)(z,{})]})})}),ln=function(){var n=Object(r.useState)(0),e=Object(U.a)(n,2),t=e[0],i=e[1],s=Object(r.useState)(0),a=Object(U.a)(s,2),l=a[0],u=a[1];c.a.useEffect((function(){for(var n=Number(new Date);Number(new Date)-n<=300;);0===t&&i(Math.random())}),[t]),c.a.useLayoutEffect((function(){for(var n=Number(new Date);Number(new Date)-n<=300;);0===l&&u(Math.random())}),[l]);var d=c.a.useCallback((function(){return i(0)}),[]),p=c.a.useCallback((function(){return u(0)}),[]);return Object(o.jsxs)("div",{children:[Object(o.jsxs)("div",{children:["useEffect: ",Object(o.jsx)("button",{onClick:d,children:t})]}),Object(o.jsxs)("div",{children:["useLayoutEffect: ",Object(o.jsx)("button",{onClick:p,children:l})]})]})},un=function(){return Object(o.jsx)(o.Fragment,{children:Object(o.jsx)(O.Page,{backLine:{stepx:20,stepy:20},children:Object(o.jsx)(O.Block,{title:"useEffect&useLayoutEffect\u533a\u522b",children:Object(o.jsx)(O.CodeViewer,{render:Object(o.jsx)(ln,{}),code:Object(o.jsx)(O.Marked,{children:"\n```JavaScript\nimport React, { useState } from 'react';\n\nconst index = () => {\n  const [count1, setCount1] = useState(0);\n  const [count2, setCount2] = useState(0);\n\n  React.useEffect(() => {\n    // \u8017\u65f6 300 \u6beb\u79d2\u7684\u8ba1\u7b97\n    const start = Number(new Date());\n    while (Number(new Date()) - start <= 300) {\n      continue;\n    }\n    if (count1 === 0) {\n      setCount1(Math.random());\n    }\n  }, [count1]);\n\n  React.useLayoutEffect(() => {\n    // \u8017\u65f6 300 \u6beb\u79d2\u7684\u8ba1\u7b97\n    const start = Number(new Date());\n    while (Number(new Date()) - start <= 300) {\n      continue;\n    }\n    if (count2 === 0) {\n      setCount2(Math.random());\n    }\n  }, [count2]);\n\n  const handleClick1 = React.useCallback(() => setCount1(0), []);\n  const handleClick2 = React.useCallback(() => setCount2(0), []);\n  return (\n    <div>\n      <div>\n        useEffect: <button onClick={handleClick1}>{count1}</button>\n      </div>\n\n      <div>\n        useLayoutEffect: <button onClick={handleClick2}>{count2}</button>\n      </div>\n    </div>\n  );\n};\n\nexport default index;\n\n```\n"})})})})})},dn=t(48),pn=t.n(dn),mn=t(117),hn=t.n(mn),jn=new Array(1e3).fill(!0).map((function(){return{id:hn.a.random.uuid(),avatar:"https://www.static.hellochange.cn/images/white_bear.gif",title:hn.a.name.firstName(),content:hn.a.company.companyName()}})),bn=[{path:"/",exact:!0,render:function(){return Object(o.jsx)(i.a,{to:{pathname:"/about"}})}},{path:"/about",component:a,name:"\u5173\u4e8e"},{path:"/test",component:un,name:"\u6d4b\u8bd5"},{path:"/markdown",component:k,name:"Markdown"},{path:"/markdown-it",component:S,name:"MarkdownIt"},{path:"/recoil",component:an,name:"recoil"},{path:"/virtuallist",component:function(){var n=Object(r.useState)([]),e=Object(U.a)(n,2),t=e[0],c=e[1],i=Object(r.useState)(0),s=Object(U.a)(i,2),a=s[0],l=s[1],u=Object(r.useState)(0),d=Object(U.a)(u,2),p=d[0],m=d[1],h=Object(r.useState)(0),j=Object(U.a)(h,2),b=j[0],f=j[1],v=Object(r.useRef)(null),g=Object(r.useRef)(null),x=Object(r.useMemo)((function(){return Math.ceil(a/50)}),[a]),k=b+x,_=Object(r.useMemo)((function(){return 50*t.length}),[t]),w=Object(r.useMemo)((function(){return t.slice(b,Math.min(k,t.length))}),[t,b,k]);Object(r.useEffect)((function(){c(jn.slice(0,x))}),[x]),Object(r.useEffect)((function(){var n=v.current;n&&l(n.clientHeight)}),[]);var y=Object(r.useCallback)((function(){var n,e,r=null!==(n=null===(e=v.current)||void 0===e?void 0:e.scrollTop)&&void 0!==n?n:0,i=Math.floor(r/50),s=i+x;f(i),s>=t.length&&c(jn.slice(0,s+x)),m(r)}),[t,x]);return Object(r.useEffect)((function(){var n=v.current;return console.log(n),y(),n&&n.addEventListener("scroll",y),function(){n&&n.removeEventListener("scroll",y)}}),[y]),Object(o.jsx)(O.Page,{children:Object(o.jsxs)("div",{className:pn.a["virtual-list-wrapper"],ref:v,children:[Object(o.jsx)("div",{className:pn.a["virtual-list-phantom"],style:{height:Math.max(_,a+1)}}),Object(o.jsx)("div",{className:pn.a["virtual-list"],ref:g,style:{transform:"translateY(".concat(p,"px)")},children:w.map((function(n){var e=n.id,t=n.title,r=n.avatar,c=n.content;return Object(o.jsxs)("div",{className:pn.a["virtual-list-item"],children:[Object(o.jsx)("img",{className:pn.a["virtual-list-item__avatar"],src:r,alt:""}),Object(o.jsxs)("div",{className:pn.a["virtual-list-item__content"],children:[Object(o.jsx)("h3",{className:pn.a["virtual-list-item__title"],children:t}),Object(o.jsx)("div",{className:pn.a["virtual-list-item__desc"],children:c})]})]},e)}))})]})})},name:"\u865a\u62df\u957f\u5217\u8868"},{path:"/json-download",component:function(){return Object(o.jsx)(O.Page,{children:Object(o.jsx)("button",{onClick:function(){var n=new XMLHttpRequest;n.open("GET","".concat("https://www.static.hellochange.cn/test/json/asset.json","?timestamp=").concat((new Date).getTime()),!0),n.setRequestHeader("Content-type","application/json"),n.setRequestHeader("Cache-Control","no-cache"),n.responseType="blob",n.onload=function(){if(200===this.status){var n=this.response,e=new FileReader;e.readAsDataURL(n),e.onload=function(n){var e,t=document.createElement("a");t.download="test.json",t.href=null===(e=n.target)||void 0===e?void 0:e.result,t.click(),t.remove()}}},n.send()},children:"\u4e0b\u8f7d"})})},name:"JSON\u4e0b\u8f7d"}];e.a=bn},68:function(n,e,t){"use strict";t.d(e,"a",(function(){return r})),t.d(e,"b",(function(){return c}));var r=function(n){var e=n.canvas,t=n.color,r=n.stepx,c=n.stepy,i=n.lineWidth,s=void 0===i?.15:i,o=e.getContext("2d");if(o.save(),o.fillStyle="transparent",o.fillRect(0,0,o.canvas.width,o.canvas.height),o.lineWidth=s,o.strokeStyle=t,r>0)for(var a=r;a<o.canvas.width;a+=r)o.beginPath(),o.moveTo(a,0),o.lineTo(a,o.canvas.height),o.closePath(),o.stroke();if(c>0)for(var l=c;l<o.canvas.height;l+=c)o.beginPath(),o.moveTo(0,l),o.lineTo(o.canvas.width,l),o.closePath(),o.stroke();o.restore()},c=function(n){n.scrollIntoView({behavior:"smooth",block:"start",inline:"nearest"})}},703:function(n,e,t){},71:function(n,e,t){n.exports={ellipsis:"index_ellipsis__3yRVv",wrapper:"index_wrapper__2iThY",nav:"index_nav__icbkZ",logo:"index_logo___GOhC",active:"index_active__10elI",content:"index_content__3TpNf"}},98:function(n,e,t){"use strict";t.d(e,"a",(function(){return a}));var r=t(68),c=t(0),i=t(146),s=t.n(i),o=t(1),a=function(n){var e=n.children,t=Object(c.useRef)(null);return Object(o.jsxs)("h3",{id:e,className:s.a.title,ref:t,onClick:function(){t.current&&Object(r.b)(t.current),window.location.hash=e},children:[e,Object(o.jsx)("span",{className:s.a.icon,children:"#"})]})}}},[[2192,1,2]]]);
//# sourceMappingURL=main.2d0de21d.chunk.js.map