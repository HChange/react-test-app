(this["webpackJsonpreact-test-app"]=this["webpackJsonpreact-test-app"]||[]).push([[7],{164:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n(188),a=n(112),i=n(80),o=n.n(i),s=n(113),u=function(e){return new Promise((function(e,t){setTimeout((function(){10*Math.random()>0?e({data:[{name:"change",age:23},{name:"ad",age:"22"}],code:"Success"}):t({code:"Failed",msg:"\u8bf7\u6c42\u5931\u8d25\uff01",data:[]})}),3e3)}))},d=Object(a.d)({key:"asyncState1",get:function(){var e=Object(s.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.get,e.prev=1,e.next=4,u();case 4:n=e.sent,e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),console.log(e.t0);case 10:return e.abrupt("return",n);case 11:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()}),l=(Object(a.e)({key:"selectorFamily",get:function(e){return Object(s.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u();case 3:t=e.sent,e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0);case 9:return e.abrupt("return",t);case 10:case"end":return e.stop()}}),e,null,[[0,6]])})))}}),n(39)),j=function(){var e=Object(a.g)(d);return Object(l.jsx)("div",{children:null===e||void 0===e?void 0:e.code})},b=function(){return Object(l.jsx)(c.Suspense,{fallback:Object(l.jsx)(l.Fragment,{children:"\u52a0\u8f7d\u4e2d..."}),children:Object(l.jsx)(j,{})})},f=Object(a.c)({key:"nameState",default:""}),h=Object(a.d)({key:"countState",get:function(e){return(0,e.get)(f).length}}),v=function(){var e=Object(a.g)(h);return Object(l.jsxs)("div",{children:["\u540d\u5b57\u957f\u5ea6\u4e3a:",e]})},O=n(21),p=n(75),x=function(){var e=Object(a.f)(f),t=Object(O.a)(e,2),n=t[0],c=t[1];return Object(l.jsxs)("div",{children:[Object(l.jsx)(p.a,{value:n,onChange:function(e){return c(e.toString())}}),Object(l.jsxs)("div",{children:["\u8f93\u5165\u7684\u540d\u5b57\u662f\uff1a",n]})]})},_=Object(a.d)({key:"asyncState2",get:function(){var e=Object(s.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.get,e.next=3,new Promise((function(e,t){setTimeout((function(){10*Math.random()>0?e({data:[{name:"change",age:23},{name:"ad",age:"22"}],code:"Success"}):t({code:"Failed",msg:"\u8bf7\u6c42\u5931\u8d25\uff01",data:[]})}),3e3)}));case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}),m=function(){var e=Object(a.h)(_);switch(e.state){case"hasValue":return Object(l.jsx)("div",{children:e.contents.code});case"loading":return Object(l.jsx)("div",{children:"Loading..."});case"hasError":throw e.contents}},g=Object(a.c)({key:"atomTest",default:0}),k=Object(a.d)({key:"setGetTest",get:function(e){return(0,e.get)(g)/2},set:function(e,t){(0,e.set)(g,t instanceof a.a?t:4*t)}}),w=function(){var e=Object(a.f)(k),t=Object(O.a)(e,2),n=t[0],c=t[1];return Object(l.jsx)("div",{children:Object(l.jsx)(p.a,{onChange:function(e){return c(Number(e))},value:n})})},y=n(93),C=n(2183),N=n(2184),S=Object(a.c)({key:"todolistState",default:[]}),M=Object(a.d)({key:"todolistStatsState",get:function(e){var t=(0,e.get)(S),n=t.length,c=t.filter((function(e){return e.isComplete})).length;return{totalNum:n,totalComplete:c,totalWillComplete:n-c,precentComplete:0===c?0:c/n}}}),P=0;var V=function(){var e=Object(c.useState)(""),t=Object(O.a)(e,2),n=t[0],r=t[1],i=Object(a.i)(S);return Object(l.jsxs)("div",{style:{display:"flex"},children:[Object(l.jsx)(p.a,{onChange:function(e){return r(e.toString())},value:n}),Object(l.jsx)(N.a,{theme:"primary",onClick:function(){n?(i((function(e){return[{id:P++,isComplete:!1,text:n}].concat(Object(y.a)(e))})),r("")):C.a.error({content:"\u8bf7\u8f93\u5165\u6709\u6548\u503c"})},children:"\u6dfb\u52a0"})]})},T=n(42),W=function(e){var t=e.id,n=e.text,c=e.isComplete,r=Object(a.f)(S),i=Object(O.a)(r,2),o=i[0],s=i[1];return Object(l.jsxs)("div",{style:{padding:"5px 10px",display:"flex",justifyContent:"space-around",background:"#5a66ff"},children:[Object(l.jsx)("input",{type:"checkbox",value:c,onClick:function(){var e=o.map((function(e){return e.id===t?Object(T.a)(Object(T.a)({},e),{},{isComplete:!e.isComplete}):e}));s(e)}}),Object(l.jsx)("div",{children:n}),Object(l.jsx)("span",{onClick:function(){var e=o.filter((function(e){return e.id!==t}));s(e)},style:{cursor:"pointer"},children:"x"})]})},B=function(){var e=Object(a.g)(S);return Object(l.jsx)("div",{children:e.map((function(e){return Object(c.createElement)(W,Object(T.a)(Object(T.a)({},e),{},{key:e.id}))}))})},R=function(){var e=Object(a.g)(M),t=e.totalNum,n=e.totalComplete,c=e.totalWillComplete,r=e.precentComplete;return Object(l.jsxs)("div",{children:[Object(l.jsx)("p",{children:"\u7edf\u8ba1"}),Object(l.jsxs)("ul",{children:[Object(l.jsxs)("li",{children:["\u603b\u6570\uff1a",t]}),Object(l.jsxs)("li",{children:["\u5df2\u5b8c\u6210\uff1a",n]}),Object(l.jsxs)("li",{children:["\u5f85\u5b8c\u6210\uff1a",c]}),Object(l.jsxs)("li",{children:["\u5b8c\u6210\u7387\uff1a","".concat(Math.floor(100*r),"%")]})]})]})},L=function(){return Object(l.jsxs)("div",{children:[Object(l.jsx)(V,{}),Object(l.jsx)(B,{}),Object(l.jsx)(R,{})]})};n(686),t.default=function(){return Object(l.jsx)(r.Page,{children:Object(l.jsxs)("div",{className:"docs",children:[Object(l.jsx)("h1",{children:"Recoil"}),Object(l.jsx)("h2",{children:"\u7b80\u5355\u4f7f\u7528"}),Object(l.jsx)(x,{}),Object(l.jsx)(v,{}),Object(l.jsx)("hr",{}),Object(l.jsx)("h2",{children:"\u5199\u4e00\u4e2aTodoList"}),Object(l.jsx)(L,{}),Object(l.jsx)("hr",{}),Object(l.jsx)("h2",{children:"\u6765\u4e2a\u5f02\u6b65\u7684"}),Object(l.jsx)(b,{}),Object(l.jsx)("h2",{children:"set get Selector"}),Object(l.jsx)(w,{}),Object(l.jsx)("h2",{children:"Loadable "}),Object(l.jsx)(m,{})]})})}},177:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var c=n(178),r=n(0),a=n(190),i=n.n(a),o=n(39),s=function(e){var t=e.children,n=Object(r.useRef)(null);return Object(o.jsxs)("h3",{id:t,className:i.a.title,ref:n,onClick:function(){n.current&&Object(c.b)(n.current)},children:[t,Object(o.jsx)("span",{className:i.a.icon,children:"#"})]})}},178:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return r}));var c=function(e){var t=e.canvas,n=e.color,c=e.stepx,r=e.stepy,a=e.lineWidth,i=void 0===a?.15:a,o=t.getContext("2d");if(o.save(),o.fillStyle="transparent",o.fillRect(0,0,o.canvas.width,o.canvas.height),o.lineWidth=i,o.strokeStyle=n,c>0)for(var s=c;s<o.canvas.width;s+=c)o.beginPath(),o.moveTo(s,0),o.lineTo(s,o.canvas.height),o.closePath(),o.stroke();if(r>0)for(var u=r;u<o.canvas.height;u+=r)o.beginPath(),o.moveTo(0,u),o.lineTo(o.canvas.width,u),o.closePath(),o.stroke();o.restore()},r=function(e){e.scrollIntoView({behavior:"smooth",block:"start",inline:"nearest"})}},181:function(e,t,n){"use strict";n.d(t,"Block",(function(){return s}));n(0);var c=n(189),r=n.n(c),a=n(177),i=n(39),o=n(182);n.o(o,"CodeViewer")&&n.d(t,"CodeViewer",(function(){return o.CodeViewer})),n.o(o,"Marked")&&n.d(t,"Marked",(function(){return o.Marked})),n.o(o,"Page")&&n.d(t,"Page",(function(){return o.Page}));var s=function(e){var t=e.title,n=e.children;return Object(i.jsxs)("div",{className:r.a.block,children:[Object(i.jsx)(a.a,{children:t}),Object(i.jsx)("div",{className:r.a.block__content,children:n})]})}},182:function(e,t){},183:function(e,t,n){"use strict";n.d(t,"Page",(function(){return b}));var c=n(42),r=n(0),a=n(20),i=n(104),o=n(191),s=n.n(o),u=n(178),d=n(192),l=n(39),j=n(184);n.o(j,"Block")&&n.d(t,"Block",(function(){return j.Block})),n.o(j,"CodeViewer")&&n.d(t,"CodeViewer",(function(){return j.CodeViewer})),n.o(j,"Marked")&&n.d(t,"Marked",(function(){return j.Marked}));var b=function(e){var t=Object(a.e)().pathname,n=i.b.filter((function(e){return e.path===t}))[0].name,o=e.children,j=e.title,b=void 0===j?n:j,f=e.backLine,h=void 0===f||f,v=Object(r.useMemo)((function(){return"boolean"===typeof h?d.d:Object(c.a)(Object(c.a)({},d.d),h)}),[h]),O=v.color,p=v.stepx,x=v.stepy,_=v.lineWidth,m=Object(r.useRef)(null),g=Object(r.useRef)(null),k=Object(r.useRef)(null),w=Object(r.useRef)();return Object(r.useEffect)((function(){var e;return g.current&&h&&(e=new ResizeObserver((function(){w.current&&clearTimeout(w.current),setTimeout((function(){if(m.current&&k.current&&g.current){var e=g.current,t=e.clientHeight,n=e.clientWidth;if(t>d.a)return;k.current.style.height="".concat(t,"px"),m.current.style.width="".concat(n*d.b,"px"),m.current.style.height="".concat(t*d.b,"px"),m.current.width=n*d.c,m.current.height=t*d.c,Object(u.a)({canvas:m.current,color:O,stepx:p*d.e,stepy:x*d.e,lineWidth:_})}}),500)}))).observe(g.current),function(){var t,n;null===(t=e)||void 0===t||null===(n=t.disconnect)||void 0===n||n.call(t)}}),[m,g,h,k]),Object(l.jsx)("div",{className:s.a.wrapper,children:Object(l.jsxs)("div",{className:s.a.page,ref:g,children:[h&&Object(l.jsx)("div",{ref:k,className:s.a["canvas-wrapper"],children:Object(l.jsx)("canvas",{ref:m,className:s.a.canvas})}),Object(l.jsxs)("div",{className:s.a["page-content"],children:[Object(l.jsx)("h2",{className:s.a.title,children:b}),Object(l.jsx)("div",{className:s.a.content,children:o}),Object(l.jsx)("div",{className:s.a.footer})]})]})})}},184:function(e,t){},185:function(e,t,n){"use strict";n(178),n(0),n(39)},186:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var c=n(97),r=n(21),a=n(0),i=n(8),o=n.n(i),s=n(193),u=n.n(s),d=n(39),l=function(e){var t=Object(a.useState)(!1),n=Object(r.a)(t,2),i=n[0],s=n[1],l=e.render,j=e.code;return Object(d.jsxs)("div",{className:u.a["code-viewer"],children:[Object(d.jsxs)("div",{className:u.a["code-viewer__render"],children:[l,Object(d.jsx)("span",{className:o()(u.a["code-viewer__show-btn"],Object(c.a)({},u.a["code-viewer__show-btn-open"],i)),onClick:function(){return s((function(e){return!e}))},children:i?"\u5173\u95ed\u4ee3\u7801":"\u5c55\u5f00\u4ee3\u7801"})]}),Object(d.jsx)("div",{className:o()(u.a["code-viewer__code"],Object(c.a)({},u.a["code-viewer__code-open"],i)),children:j})]})}},187:function(e,t,n){"use strict";n.d(t,"a",(function(){return O}));var c=n(21),r=n(0),a=n(8),i=n.n(a),o=n(201),s=n.n(o),u=n(200),d=n.n(u),l=n(202),j=n.n(l),b=n(194),f=n.n(b),h=/^[\w\W]*?```([\w\W]*?)```[\w\W]*$/,v=n(39),O=function(e){var t=e.children,n=e.type,a=e.className,o=e.style,u=void 0===o?{}:o,l=e.onCopy,b=Object(r.useState)(""),O=Object(c.a)(b,2),p=O[0],x=O[1],_=Object(r.useState)(""),m=Object(c.a)(_,2),g=m[0],k=m[1],w=Object(r.useState)("\u590d\u5236"),y=Object(c.a)(w,2),C=y[0],N=y[1];Object(r.useEffect)((function(){if(t){var e;x((null===(e=t.match(h))||void 0===e?void 0:e[1])||""),s.a.setOptions({renderer:new s.a.Renderer,highlight:function(e){return'<pre class="hljs"><code>'+d.a.highlightAuto(e,n?[n]:void 0).value+"</code></pre>"},pedantic:!1,gfm:!0,breaks:!1,sanitize:!1,smartLists:!0,smartypants:!1,xhtml:!1});var c=s()(t);k(c)}}),[t,n]);var S=Object(r.useCallback)((function(e,t){N("\u5df2\u590d\u5236"),setTimeout((function(){N("\u590d\u5236")}),2e3),l&&l(e,t)}),[]);return Object(v.jsx)("div",{className:i()(f.a.marked,{className:a}),style:u,children:Object(v.jsxs)("div",{className:i()(f.a["marked-content"]),children:[g&&Object(v.jsx)("div",{dangerouslySetInnerHTML:{__html:g}}),Object(v.jsx)(j.a,{text:p,onCopy:S,children:Object(v.jsx)("span",{className:f.a["marked-content__copy"],children:C})})]})})}},188:function(e,t,n){"use strict";var c=n(181);n.o(c,"Block")&&n.d(t,"Block",(function(){return c.Block})),n.o(c,"CodeViewer")&&n.d(t,"CodeViewer",(function(){return c.CodeViewer})),n.o(c,"Marked")&&n.d(t,"Marked",(function(){return c.Marked})),n.o(c,"Page")&&n.d(t,"Page",(function(){return c.Page}));var r=n(183);n.o(r,"Block")&&n.d(t,"Block",(function(){return r.Block})),n.o(r,"CodeViewer")&&n.d(t,"CodeViewer",(function(){return r.CodeViewer})),n.o(r,"Marked")&&n.d(t,"Marked",(function(){return r.Marked})),n.o(r,"Page")&&n.d(t,"Page",(function(){return r.Page}));n(177),n(185);var a=n(186);n.d(t,"CodeViewer",(function(){return a.a}));var i=n(187);n.d(t,"Marked",(function(){return i.a}))},189:function(e,t,n){e.exports={block__content:"block__content__2GD6O"}},190:function(e,t,n){e.exports={ellipsis:"ellipsis__322Eq",title:"title__2ZSyt",icon:"icon__3vdW5"}},191:function(e,t,n){e.exports={ellipsis:"ellipsis__2Uc9l",wrapper:"wrapper__3y9jD",page:"page__1k_bh","canvas-wrapper":"canvas-wrapper__2oIr1",canvas:"canvas__1HL9K","page-content":"page-content__1cWrh",title:"title__2iGTa",content:"content__5eCjz",footer:"footer__St2N1"}},192:function(e,t,n){"use strict";n.d(t,"c",(function(){return c})),n.d(t,"e",(function(){return r})),n.d(t,"b",(function(){return a})),n.d(t,"d",(function(){return i})),n.d(t,"a",(function(){return o}));var c=2,r=2,a=c/r,i={color:"red",stepx:20,stepy:20,lineWidth:.15},o=8e3},193:function(e,t,n){e.exports={ellipsis:"ellipsis__1ZCmY","code-viewer":"code-viewer__2677u","code-viewer__render":"code-viewer__render__1ViX4","code-viewer__show-btn":"code-viewer__show-btn__G5BQv","code-viewer__show-btn-open":"code-viewer__show-btn-open__3P1mA","code-viewer__code":"code-viewer__code__3eHnO","code-viewer__code-open":"code-viewer__code-open__1lUmt"}},194:function(e,t,n){e.exports={ellipsis:"ellipsis__26Fs5","marked-content":"marked-content__3cowg","marked-content__copy":"marked-content__copy__K55yV"}},686:function(e,t,n){}}]);
//# sourceMappingURL=7.f040822e.chunk.js.map