{"version":3,"sources":["pages/recoil/components/Async/mockRequest.ts","pages/recoil/components/Async/asyncState.ts","pages/recoil/components/Async/AsyncModules.tsx","pages/recoil/components/Async/index.tsx","pages/recoil/recoilState.ts","pages/recoil/components/Count/index.tsx","pages/recoil/components/InputCom/index.tsx","pages/recoil/components/Loadable/state.ts","pages/recoil/components/Loadable/mockRequest.ts","pages/recoil/components/Loadable/index.tsx","pages/recoil/components/Selector/state.ts","pages/recoil/components/Selector/index.tsx","pages/recoil/components/Todolist/todolistState.ts","pages/recoil/components/Todolist/Add/index.tsx","pages/recoil/components/Todolist/ListItem/index.tsx","pages/recoil/components/Todolist/List/index.tsx","pages/recoil/components/Todolist/Stats/index.tsx","pages/recoil/components/Todolist/index.tsx","pages/recoil/index.tsx","components/Title/index.tsx","utils/drawGrid.ts","utils/scrollIntoView.ts","components/Block/index.tsx","components/Page/index.tsx","components/AnchorPoint/index.tsx","components/CodeViewer/index.tsx","components/Marked/constants.ts","components/Marked/index.tsx","components/index.ts","components/Block/index.less","components/Title/index.less","components/Page/index.less","components/Page/constants.ts","components/CodeViewer/index.less","components/Marked/index.less"],"names":["mockRequest","id","Promise","resolve","reject","setTimeout","Math","random","data","name","age","code","msg","asyncState","selector","key","get","a","res","console","log","selectorFamily","value","AsyncModule","response","useRecoilValue","Async","fallback","nameState","atom","default","countState","length","Count","count","InputCom","useRecoilState","setName","onChange","v","toString","loadashState","Loadable","stateLoadable","useRecoilValueLoadable","state","contents","atomTest","setGetTest","set","newValue","DefaultValue","Selector","setValue","Number","todolistState","todolistStatsState","todolist","totalNum","totalComplete","filter","item","isComplete","totalWillComplete","precentComplete","Add","useState","setRecords","useSetRecoilState","style","display","theme","onClick","prev","text","notification","error","content","ListItem","setTodolist","padding","justifyContent","background","type","newTodolist","map","cursor","List","Stats","floor","Todolist","RecoilTest","className","Title","props","children","ref","useRef","styles","title","current","scrollIntoView","icon","drawGrid","params","canvas","color","stepx","stepy","lineWidth","context","getContext","save","fillStyle","fillRect","width","height","strokeStyle","i","beginPath","moveTo","lineTo","closePath","stroke","j","restore","dom","behavior","block","inline","Block","Page","pathname","useLocation","defaultTitle","routes","path","backLine","useMemo","defaultConfig","page","canvasWrapper","timer","useEffect","resizeObserver","ResizeObserver","clearTimeout","clientHeight","clientWidth","MAX_HEIGHT","canvasCurrentWidthMultiply","canvasWidthMultiply","gridWidthMultiply","observe","disconnect","wrapper","footer","CodeViewer","isOpen","setIsOpen","render","classNames","reg","Marked","onCopy","setCode","markContent","setMarkContent","copyText","setCopyText","match","marked","setOptions","renderer","Renderer","highlight","hljs","highlightAuto","undefined","pedantic","gfm","breaks","sanitize","smartLists","smartypants","xhtml","markedContentd","copyAction","useCallback","result","classnames","dangerouslySetInnerHTML","__html","module","exports"],"mappings":"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","file":"static/js/7.f040822e.chunk.js","sourcesContent":["export const mockRequest = (id?: any) => {\n  return new Promise((resolve, reject) => {\n    setTimeout(() => {\n      const randNum = Math.random() * 10;\n      if (randNum > 0) {\n        resolve({\n          data: [\n            {\n              name: 'change',\n              age: 23,\n            },\n            {\n              name: 'ad',\n              age: '22',\n            },\n          ],\n          code: 'Success',\n        });\n      } else {\n        // eslint-disable-next-line prefer-promise-reject-errors\n        reject({\n          code: 'Failed',\n          msg: '请求失败！',\n          data: [],\n        });\n      }\n    }, 3000);\n  });\n};\n","import { selector, selectorFamily } from 'recoil';\nimport { mockRequest } from './mockRequest';\n\nexport const asyncState = selector({\n  key: 'asyncState1',\n  get: async ({ get }) => {\n    let res;\n    try {\n      res = await mockRequest();\n    } catch (e) {\n      console.log(e);\n    }\n    return res;\n  },\n});\n\n// selectorFamily\nexport const family = selectorFamily({\n  key: 'selectorFamily',\n  get: (value) => async () => {\n    let res;\n    try {\n      res = await mockRequest(value);\n    } catch (e) {\n      console.log(e);\n    }\n    return res;\n  },\n});\n","import React from 'react';\nimport { useRecoilValue } from 'recoil';\nimport { asyncState } from './asyncState';\n\nconst AsyncModule = () => {\n  const response: any = useRecoilValue(asyncState);\n  return <div>{response?.code}</div>;\n};\n\nexport default AsyncModule;\n","import React, { Suspense } from 'react';\nimport AsyncModule from './AsyncModules';\n\nconst Async = () => {\n  return (\n    // @ts-ignore\n    <Suspense fallback={<>加载中...</>}>\n      <AsyncModule />\n    </Suspense>\n  );\n};\n\nexport default Async;\n","import { atom, selector } from 'recoil';\n\nexport const nameState = atom({\n  key: 'nameState',\n  default: '',\n});\n\nexport const countState = selector({\n  key: 'countState',\n  get: ({ get }) => {\n    const name = get(nameState);\n    return name.length;\n  },\n});\n","import React from 'react';\nimport { useRecoilValue } from 'recoil';\nimport { countState } from '../../recoilState';\n\nconst Count = () => {\n  const count = useRecoilValue(countState);\n  return <div>名字长度为:{count}</div>;\n};\n\nexport default Count;\n","import React from 'react';\nimport { Input } from 'tdesign-react';\nimport { useRecoilState } from 'recoil';\nimport { nameState } from '../../recoilState';\n\nconst InputCom = () => {\n  const [name, setName] = useRecoilState(nameState);\n\n  return (\n    <div>\n      <Input value={name} onChange={(v) => setName(v.toString())} />\n      <div>输入的名字是：{name}</div>\n    </div>\n  );\n};\n\nexport default InputCom;\n","import { selector } from 'recoil';\nimport { mockRequest } from './mockRequest';\n\nexport const loadashState = selector<{ data: any; code: any }>({\n  key: 'asyncState2',\n  get: async ({ get }) => {\n    let res = await mockRequest();\n\n    return res;\n  },\n});\n","export const mockRequest = (id?: any): Promise<{ data: any; code: any }> => {\n  return new Promise((resolve, reject) => {\n    setTimeout(() => {\n      const randNum = Math.random() * 10;\n      if (randNum > 0) {\n        resolve({\n          data: [\n            {\n              name: 'change',\n              age: 23,\n            },\n            {\n              name: 'ad',\n              age: '22',\n            },\n          ],\n          code: 'Success',\n        });\n      } else {\n        // eslint-disable-next-line prefer-promise-reject-errors\n        reject({\n          code: 'Failed',\n          msg: '请求失败！',\n          data: [],\n        });\n      }\n    }, 3000);\n  });\n};\n","import React from 'react';\nimport { useRecoilValueLoadable } from 'recoil';\nimport { loadashState } from './state';\n\nconst Loadable = () => {\n  const stateLoadable = useRecoilValueLoadable(loadashState);\n  switch (stateLoadable.state) {\n    case 'hasValue':\n      return <div>{stateLoadable.contents.code}</div>;\n    case 'loading':\n      return <div>Loading...</div>;\n    case 'hasError':\n      throw stateLoadable.contents;\n  }\n};\n\nexport default Loadable;\n","import { atom, DefaultValue, selector } from 'recoil';\n\nexport const atomTest = atom({\n  key: 'atomTest',\n  default: 0,\n});\n\nexport const setGetTest = selector<number>({\n  key: 'setGetTest',\n  get: ({ get }) => {\n    const val = get(atomTest);\n    return val / 2;\n  },\n  set: ({ set }, newValue) => {\n    set(atomTest, newValue instanceof DefaultValue ? newValue : (newValue as number) * 4);\n  },\n});\n","import { Input } from 'tdesign-react';\nimport React from 'react';\nimport { useRecoilState } from 'recoil';\nimport { setGetTest } from './state';\n\nconst Selector = () => {\n  const [value, setValue] = useRecoilState(setGetTest);\n\n  return (\n    <div>\n      <Input onChange={(v) => setValue(Number(v))} value={value} />\n    </div>\n  );\n};\n\nexport default Selector;\n","import { atom, selector } from 'recoil';\nimport { ItemProps } from './types';\n\nexport const todolistState = atom<ItemProps[]>({\n  key: 'todolistState',\n  default: [],\n});\n\nexport const todolistStatsState = selector({\n  key: 'todolistStatsState',\n  get: ({ get }) => {\n    const todolist = get(todolistState);\n    const totalNum = todolist.length;\n    const totalComplete = todolist.filter((item) => item.isComplete).length;\n    const totalWillComplete = totalNum - totalComplete;\n    const precentComplete = totalComplete === 0 ? 0 : totalComplete / totalNum;\n    return {\n      totalNum,\n      totalComplete,\n      totalWillComplete,\n      precentComplete,\n    };\n  },\n});\n","import { Button, Input, notification } from 'tdesign-react';\nimport React, { useState } from 'react';\nimport { useSetRecoilState } from 'recoil';\nimport { todolistState } from '../todolistState';\n\n// 用于创建唯一 ID 的工具\nlet id = 0;\nfunction getId() {\n  return id++;\n}\n\nconst Add = () => {\n  const [value, setValue] = useState<string>('');\n  const setRecords = useSetRecoilState(todolistState);\n  const addAction = () => {\n    if (!value) {\n      notification.error({ content: '请输入有效值' });\n    } else {\n      setRecords((prev) => [{ id: getId(), isComplete: false, text: value }, ...prev]);\n      setValue('');\n    }\n  };\n\n  return (\n    <div style={{ display: 'flex' }}>\n      <Input onChange={(v) => setValue(v.toString())} value={value} />\n      <Button theme=\"primary\" onClick={addAction}>\n        添加\n      </Button>\n    </div>\n  );\n};\n\nexport default Add;\n","import React from 'react';\nimport { useRecoilState } from 'recoil';\nimport { todolistState } from '../todolistState';\nimport { ItemProps } from '../types';\n\nconst ListItem: React.FC<ItemProps> = ({ id, text, isComplete }) => {\n  const [todolist, setTodolist] = useRecoilState(todolistState);\n  const toggleComplete = () => {\n    const newTodolist = todolist.map((item) => {\n      if (item.id === id) {\n        return {\n          ...item,\n          isComplete: !item.isComplete,\n        };\n      } else {\n        return item;\n      }\n    });\n    setTodolist(newTodolist);\n  };\n\n  // delete\n  const deleteAction = () => {\n    const newTodolist = todolist.filter((item) => item.id !== id);\n    setTodolist(newTodolist);\n  };\n  return (\n    <div style={{ padding: '5px 10px', display: 'flex', justifyContent: 'space-around', background: '#5a66ff' }}>\n      <input type=\"checkbox\" value={isComplete as any} onClick={toggleComplete} />\n      <div>{text}</div>\n      <span onClick={deleteAction} style={{ cursor: 'pointer' }}>\n        x\n      </span>\n    </div>\n  );\n};\n\nexport default ListItem;\n","import React from 'react';\nimport { useRecoilValue } from 'recoil';\nimport ListItem from '../ListItem';\nimport { todolistState } from '../todolistState';\n\nconst List = () => {\n  const value = useRecoilValue(todolistState);\n  return (\n    <div>\n      {value.map((item) => {\n        return <ListItem {...item} key={item.id} />;\n      })}\n    </div>\n  );\n};\n\nexport default List;\n","import React from 'react';\nimport { useRecoilValue } from 'recoil';\nimport { todolistStatsState } from '../todolistState';\n\nconst Stats = () => {\n  const { totalNum, totalComplete, totalWillComplete, precentComplete } = useRecoilValue(todolistStatsState);\n  return (\n    <div>\n      <p>统计</p>\n      <ul>\n        <li>总数：{totalNum}</li>\n        <li>已完成：{totalComplete}</li>\n        <li>待完成：{totalWillComplete}</li>\n        <li>完成率：{`${Math.floor(precentComplete * 100)}%`}</li>\n      </ul>\n    </div>\n  );\n};\n\nexport default Stats;\n","import React from 'react';\nimport Add from './Add';\nimport List from './List';\nimport Stats from './Stats';\n\nconst Todolist = () => {\n  return (\n    <div>\n      <Add />\n      <List />\n      <Stats />\n    </div>\n  );\n};\n\nexport default Todolist;\n","import React from 'react';\nimport { Page } from '@/components';\nimport Async from './components/Async';\nimport Count from './components/Count';\nimport InputCom from './components/InputCom';\nimport Loadable from './components/Loadable';\nimport Selector from './components/Selector';\nimport Todolist from './components/Todolist';\nimport './index.less';\n\nconst RecoilTest = () => {\n  return (\n    <Page>\n      <div className=\"docs\">\n        <h1>Recoil</h1>\n        <h2>简单使用</h2>\n        <InputCom />\n        <Count />\n        <hr />\n        <h2>写一个TodoList</h2>\n        <Todolist />\n        <hr />\n        <h2>来个异步的</h2>\n        <Async />\n        <h2>set get Selector</h2>\n        <Selector />\n\n        <h2>Loadable </h2>\n        <Loadable />\n      </div>\n    </Page>\n  );\n};\n\nexport default RecoilTest;\n","import { scrollIntoView } from '@/utils';\nimport React, { useRef } from 'react';\nimport styles from './index.less';\n\nconst Title = (props: { children: string }) => {\n  const { children } = props;\n  const ref = useRef<HTMLHeadingElement>(null);\n\n  const scrollToTop = () => {\n    if (ref.current) {\n      scrollIntoView(ref.current);\n    }\n    if (process.env.REACT_APP_IS_GITHUB !== 'true') {\n      window.location.hash = children;\n    }\n  };\n\n  return (\n    <h3 id={children} className={styles.title} ref={ref} onClick={scrollToTop}>\n      {children}\n      <span className={styles.icon}>#</span>\n    </h3>\n  );\n};\n\nexport { Title };\n","/**\n * @description 网格绘画函数\n * @param canvas HTMLCanvasElement\n * @param color 线条颜色\n * @param stepx 横坐标间隔\n * @param stepy 纵坐标间隔\n * @param lineWidth 线条宽度\n */\ninterface Params {\n  canvas: HTMLCanvasElement;\n  color: any;\n  stepx: number;\n  stepy: number;\n  lineWidth?: number;\n}\nexport const drawGrid = (params: Params) => {\n  const { canvas, color, stepx, stepy, lineWidth = 0.15 } = params;\n  const context = canvas.getContext('2d')!;\n  context.save();\n  context.fillStyle = 'transparent';\n  context.fillRect(0, 0, context.canvas.width, context.canvas.height);\n  context.lineWidth = lineWidth;\n  context.strokeStyle = color;\n  if (stepx > 0) {\n    for (let i = stepx; i < context.canvas.width; i += stepx) {\n      context.beginPath();\n      context.moveTo(i, 0);\n      context.lineTo(i, context.canvas.height);\n      context.closePath();\n      context.stroke();\n    }\n  }\n  if (stepy > 0) {\n    for (let j = stepy; j < context.canvas.height; j += stepy) {\n      context.beginPath();\n      context.moveTo(0, j);\n      context.lineTo(context.canvas.width, j);\n      context.closePath();\n      context.stroke();\n    }\n  }\n  context.restore();\n};\n","export const scrollIntoView = (dom: HTMLElement) => {\n  dom.scrollIntoView({\n    behavior: 'smooth',\n    block: 'start',\n    inline: 'nearest',\n  });\n};\n","import React from 'react';\nimport { BlockProps } from './types';\nimport styles from './index.less';\nimport { Title } from '../Title';\n\nconst Block = (props: BlockProps) => {\n  const { title, children } = props;\n  return (\n    <div className={styles.block}>\n      <Title>{title}</Title>\n      <div className={styles['block__content']}>{children}</div>\n    </div>\n  );\n};\n\nexport { Block };\nexport * from './types';\n","import React, { useEffect, useMemo, useRef } from 'react';\nimport { useLocation } from 'react-router';\nimport { routes } from '@/config/routes';\nimport styles from './index.less';\nimport { PageProps } from './types';\nimport { drawGrid } from '@/utils';\nimport {\n  canvasCurrentWidthMultiply,\n  canvasWidthMultiply,\n  defaultConfig,\n  gridWidthMultiply,\n  MAX_HEIGHT,\n} from './constants';\nconst Page: React.FC<PageProps> = (props) => {\n  const { pathname } = useLocation();\n  const defaultTitle = routes.filter((item) => {\n    return item.path === pathname;\n  })[0].name;\n  const { children, title = defaultTitle, backLine = true } = props;\n\n  const { color, stepx, stepy, lineWidth } = useMemo(() => {\n    if (typeof backLine === 'boolean') {\n      return defaultConfig;\n    } else {\n      return { ...defaultConfig, ...backLine };\n    }\n  }, [backLine]);\n\n  const canvas = useRef<HTMLCanvasElement>(null);\n  const page = useRef<HTMLDivElement>(null);\n  const canvasWrapper = useRef<HTMLDivElement>(null);\n  const timer = useRef();\n  useEffect(() => {\n    let resizeObserver: ResizeObserver;\n    if (page.current && backLine) {\n      resizeObserver = new ResizeObserver(() => {\n        if (timer.current) {\n          clearTimeout(timer.current);\n        }\n        setTimeout(() => {\n          if (canvas.current && canvasWrapper.current && page.current) {\n            // 动态设置canvas高度\n            const { clientHeight, clientWidth } = page.current;\n            if (clientHeight > MAX_HEIGHT) return;\n            // 取多倍作用：不需要监听页面 resize\n            canvasWrapper.current.style.height = `${clientHeight}px`;\n            canvas.current.style.width = `${clientWidth * canvasCurrentWidthMultiply}px`;\n            canvas.current.style.height = `${clientHeight * canvasCurrentWidthMultiply}px`;\n            canvas.current.width = clientWidth * canvasWidthMultiply;\n            canvas.current.height = clientHeight * canvasWidthMultiply;\n            drawGrid({\n              canvas: canvas.current,\n              color,\n              stepx: stepx * gridWidthMultiply,\n              stepy: stepy * gridWidthMultiply,\n              lineWidth,\n            });\n          }\n        }, 500);\n      });\n      resizeObserver.observe(page.current);\n    }\n    return () => {\n      resizeObserver?.disconnect?.();\n    };\n  }, [canvas, page, backLine, canvasWrapper]);\n  return (\n    <div className={styles.wrapper}>\n      <div className={styles.page} ref={page}>\n        {/* background  line */}\n        {backLine && (\n          <div ref={canvasWrapper} className={styles['canvas-wrapper']}>\n            <canvas ref={canvas} className={styles.canvas} />\n          </div>\n        )}\n        {/* content */}\n        <div className={styles['page-content']}>\n          <h2 className={styles.title}>{title}</h2>\n          <div className={styles.content}>{children}</div>\n          <div className={styles.footer} />\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport { Page };\nexport * from './types';\n","import { scrollIntoView } from '@/utils';\nimport React from 'react';\n\n/**\n * 锚点\n * @param to 锚点对应的id名\n */\nconst AnchorPoint: React.FC<{ to: string; children: any }> = (props) => {\n  const { to, children } = props;\n\n  const goAction = () => {\n    const point = document.getElementById(to);\n    if (point) {\n      scrollIntoView(point);\n    } else {\n      console.warn(`找不到 “${to}” 相关锚点`);\n    }\n    window.location.hash = to;\n  };\n  return <div onClick={goAction}>{children}</div>;\n};\n\nexport { AnchorPoint };\n","import React, { useState } from 'react';\nimport classNames from 'classnames';\nimport styles from './index.less';\nimport { CodeViewerProps } from './types';\n\nconst CodeViewer = (props: CodeViewerProps) => {\n  const [isOpen, setIsOpen] = useState<boolean>(false);\n  const { render, code } = props;\n  return (\n    <div className={styles['code-viewer']}>\n      <div className={styles['code-viewer__render']}>\n        {render}\n        <span\n          className={classNames(styles['code-viewer__show-btn'], { [styles['code-viewer__show-btn-open']]: isOpen })}\n          onClick={() => setIsOpen((prev) => !prev)}\n        >\n          {isOpen ? '关闭代码' : '展开代码'}\n        </span>\n      </div>\n      <div className={classNames(styles['code-viewer__code'], { [styles['code-viewer__code-open']]: isOpen })}>\n        {code}\n      </div>\n    </div>\n  );\n};\n\nexport { CodeViewer };\n","// 匹配 ``` ```之间的内容 @ safair不支持\n// export const reg = /(?<=```)([\\w\\W]*?)(?=```)/;\n\nexport const reg = /^[\\w\\W]*?```([\\w\\W]*?)```[\\w\\W]*$/;\n","import React, { useCallback, useEffect, useState } from 'react';\nimport classnames from 'classnames';\nimport marked from 'marked';\nimport hljs from 'highlight.js';\nimport CopyToClipboard from 'react-copy-to-clipboard';\nimport { MarkedProps } from './types';\nimport styles from './index.less';\nimport { reg } from './constants';\n\n/**\n * 字符串代码--->代码库\n */\nconst Marked = (props: MarkedProps) => {\n  const { children, type, className, style = {}, onCopy } = props;\n  const [code, setCode] = useState<string>('');\n  const [markContent, setMarkContent] = useState<string>('');\n  const [copyText, setCopyText] = useState('复制');\n  useEffect(() => {\n    if (children) {\n      setCode(children.match(reg)?.[1] || '');\n      marked.setOptions({\n        renderer: new marked.Renderer(),\n        highlight: function (code) {\n          return (\n            '<pre class=\"hljs\"><code>' + hljs.highlightAuto(code, type ? [type] : undefined).value + '</code></pre>'\n          );\n        },\n        pedantic: false,\n        gfm: true,\n        breaks: false,\n        sanitize: false,\n        smartLists: true,\n        smartypants: false,\n        xhtml: false,\n      });\n      const markedContentd = marked(children);\n      setMarkContent(markedContentd);\n    }\n  }, [children, type]);\n\n  const copyAction = useCallback((text: string, result: boolean) => {\n    // 拷贝成功交互\n    setCopyText('已复制');\n    setTimeout(() => {\n      setCopyText('复制');\n    }, 2000);\n    if (onCopy) {\n      onCopy(text, result);\n    }\n  }, []);\n\n  return (\n    <div className={classnames(styles.marked, { className })} style={style}>\n      <div className={classnames(styles['marked-content'])}>\n        {markContent && <div dangerouslySetInnerHTML={{ __html: markContent }} />}\n        {/* @ts-ignore */}\n        <CopyToClipboard text={code} onCopy={copyAction}>\n          <span className={styles['marked-content__copy']}>{copyText}</span>\n        </CopyToClipboard>\n      </div>\n    </div>\n  );\n};\n\nexport { Marked };\n","export * from './Block';\nexport * from './Page';\nexport * from './Title';\nexport * from './AnchorPoint';\nexport * from './CodeViewer';\nexport * from './Marked';\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"block__content\":\"block__content__2GD6O\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ellipsis\":\"ellipsis__322Eq\",\"title\":\"title__2ZSyt\",\"icon\":\"icon__3vdW5\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ellipsis\":\"ellipsis__2Uc9l\",\"wrapper\":\"wrapper__3y9jD\",\"page\":\"page__1k_bh\",\"canvas-wrapper\":\"canvas-wrapper__2oIr1\",\"canvas\":\"canvas__1HL9K\",\"page-content\":\"page-content__1cWrh\",\"title\":\"title__2iGTa\",\"content\":\"content__5eCjz\",\"footer\":\"footer__St2N1\"};","// 绘画宽度倍率\nexport const canvasWidthMultiply = 2;\n// step倍率\nexport const gridWidthMultiply = 2;\n// canvas css宽度倍率\nexport const canvasCurrentWidthMultiply = canvasWidthMultiply / gridWidthMultiply;\n\n// 线条默认配置\nexport const defaultConfig = {\n  color: 'red',\n  stepx: 20,\n  stepy: 20,\n  lineWidth: 0.15,\n};\n\n// 最大内容高度限制\nexport const MAX_HEIGHT = 8000;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ellipsis\":\"ellipsis__1ZCmY\",\"code-viewer\":\"code-viewer__2677u\",\"code-viewer__render\":\"code-viewer__render__1ViX4\",\"code-viewer__show-btn\":\"code-viewer__show-btn__G5BQv\",\"code-viewer__show-btn-open\":\"code-viewer__show-btn-open__3P1mA\",\"code-viewer__code\":\"code-viewer__code__3eHnO\",\"code-viewer__code-open\":\"code-viewer__code-open__1lUmt\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ellipsis\":\"ellipsis__26Fs5\",\"marked-content\":\"marked-content__3cowg\",\"marked-content__copy\":\"marked-content__copy__K55yV\"};"],"sourceRoot":""}