(this["webpackJsonpreact-test-app"]=this["webpackJsonpreact-test-app"]||[]).push([[6],{410:function(n,t,e){"use strict";e.r(t);var c=e(0),a=e.n(c),u=e(96),o=e(5),s=e(3),r=function(){var n=Object(c.useState)(Math.random()),t=Object(o.a)(n,2),e=t[0],u=t[1],r=Object(c.useState)(Math.random()),i=Object(o.a)(r,2),b=i[0],d=i[1],f=Object(c.useRef)(!1);a.a.useEffect((function(){if(!1!==f.current){for(var n=Number(new Date);Number(new Date)-n<=300;);0===e&&u(Math.random())}}),[e]),a.a.useLayoutEffect((function(){if(!1!==f.current){for(var n=Number(new Date);Number(new Date)-n<=300;);0===b&&d(Math.random())}}),[b]);var l=a.a.useCallback((function(){u(0),f.current=!0}),[]),h=a.a.useCallback((function(){d(0),f.current=!0}),[]);return Object(s.jsxs)("div",{children:[Object(s.jsxs)("div",{children:["useEffect: ",Object(s.jsx)("button",{onClick:l,children:e})]}),Object(s.jsxs)("div",{children:["useLayoutEffect: ",Object(s.jsx)("button",{onClick:h,children:b})]})]})};t.default=function(){return Object(s.jsx)(s.Fragment,{children:Object(s.jsx)(u.Page,{children:Object(s.jsx)(u.Block,{title:"useEffect VS useLayoutEffect",children:Object(s.jsx)(u.CodeViewer,{render:Object(s.jsx)(r,{}),code:Object(s.jsx)(u.Marked,{children:"# \u8fd9\u662f\u4e00\u7ea7\u6807\u9898\n\n## \u8fd9\u662f\u4e8c\u7ea7\u6807\u9898\n\n### \u8fd9\u662f\u4e09\u7ea7\u6807\u9898\n\n#### \u8fd9\u662f\u56db\u7ea7\u6807\u9898\n\n##### \u8fd9\u662f\u4e94\u7ea7\u6807\u9898\n\n###### \u8fd9\u662f\u516d\u7ea7\u6807\u9898\n\n**\u8fd9\u662f\u52a0\u7c97\u7684\u6587\u5b57**\n_\u8fd9\u662f\u503e\u659c\u7684\u6587\u5b57_`\n**_\u8fd9\u662f\u659c\u4f53\u52a0\u7c97\u7684\u6587\u5b57_**\n~~\u8fd9\u662f\u52a0\u5220\u9664\u7ebf\u7684\u6587\u5b57~~\n\n> \u8fd9\u662f\u5f15\u7528\u7684\u5185\u5bb9\n>\n> > \u8fd9\u662f\u5f15\u7528\u7684\u5185\u5bb9\n> >\n> > > > > > > > > > \u8fd9\u662f\u5f15\u7528\u7684\u5185\u5bb9\n\n---\n\n---\n\n---\n\n---\n\n![blockchain](https://ss0.bdstatic.com/70cFvHSh_Q1YnxGkpoWK1HF6hhy/it/u=702257389,1274025419&fm=27&gp=0.jpg '\u533a\u5757\u94fe')\n\n[\u7b80\u4e66](http://jianshu.com)\n[\u767e\u5ea6](http://baidu.com)\n\n| \u59d3\u540d | \u6280\u80fd | \u6392\u884c | \u5206\u6570 |\n| :--: | :--: | :--: | :--: |\n| \u5218\u5907 |  \u54ed  | \u5927\u54e5 |  98  |\n| \u5173\u7fbd |  \u6253  | \u4e8c\u54e5 | 100  |\n| \u5f20\u98de |  \u9a82  | \u4e09\u5f1f |  18  |\n\n```JavaScript\nimport React, { useState } from 'react';\n\nconst index = () => {\n  const [count1, setCount1] = useState(0);\n  const [count2, setCount2] = useState(0);\n\n  React.useEffect(() => {\n    // \u8017\u65f6 300 \u6beb\u79d2\u7684\u8ba1\u7b97\n    const start = Number(new Date());\n    while (Number(new Date()) - start <= 300) {\n      continue;\n    }\n    if (count1 === 0) {\n      setCount1(Math.random());\n    }\n  }, [count1]);\n\n  React.useLayoutEffect(() => {\n    // \u8017\u65f6 300 \u6beb\u79d2\u7684\u8ba1\u7b97\n    const start = Number(new Date());\n    while (Number(new Date()) - start <= 300) {\n      continue;\n    }\n    if (count2 === 0) {\n      setCount2(Math.random());\n    }\n  }, [count2]);\n\n  const handleClick1 = React.useCallback(() => setCount1(0), []);\n  const handleClick2 = React.useCallback(() => setCount2(0), []);\n  return (\n    <div>\n      <div>\n        useEffect: <button onClick={handleClick1}>{count1}</button>\n      </div>\n\n      <div>\n        useLayoutEffect: <button onClick={handleClick2}>{count2}</button>\n      </div>\n    </div>\n  );\n};\n\nexport default index;\n\n```\n"})})})})})}}}]);
//# sourceMappingURL=6.a2ee6f72.chunk.js.map